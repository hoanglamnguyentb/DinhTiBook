{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ee32644\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"search-box\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-search-line search-icon\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-equalizer-fill me-2 align-bottom\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0,\n  class: \"noresult\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = [\"onClick\", \"href\"];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-eye-fill fs-16\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 3,\n  class: \"list-inline hstack gap-2 mb-0\"\n};\nconst _hoisted_11 = {\n  class: \"list-inline-item\",\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-trigger\": \"hover\",\n  \"data-bs-placement\": \"top\",\n  title: \"Chi tiết\"\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-information-line fs-16\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"list-inline-item edit\",\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-trigger\": \"hover\",\n  \"data-bs-placement\": \"top\",\n  title: \"Đánh dấu đã đọc\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-check-double-line fs-16\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_15 = {\n  class: \"list-inline-item\",\n  \"data-bs-toggle\": \"tooltip\",\n  \"data-bs-trigger\": \"hover\",\n  \"data-bs-placement\": \"top\",\n  title: \"Remove\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-delete-bin-5-fill fs-16\"\n}, null, -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageHeader = _resolveComponent(\"PageHeader\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_popconfirm = _resolveComponent(\"a-popconfirm\");\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_b_form_select_option = _resolveComponent(\"b-form-select-option\");\n  const _component_b_form_select = _resolveComponent(\"b-form-select\");\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  const _component_b_form = _resolveComponent(\"b-form\");\n  const _component_b_card_body = _resolveComponent(\"b-card-body\");\n  const _component_lottie = _resolveComponent(\"lottie\");\n  const _component_a_empty = _resolveComponent(\"a-empty\");\n  const _component_a_tag = _resolveComponent(\"a-tag\");\n  const _component_b_link = _resolveComponent(\"b-link\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_Pagination = _resolveComponent(\"Pagination\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  const _component_a_col = _resolveComponent(\"a-col\");\n  const _component_a_row = _resolveComponent(\"a-row\");\n  const _component_ModalDetailThongBao = _resolveComponent(\"ModalDetailThongBao\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_PageHeader, {\n    title: $data.title,\n    items: $data.items\n  }, null, 8 /* PROPS */, [\"title\", \"items\"]), _createVNode(_component_a_row, null, {\n    default: _withCtx(() => [_createVNode(_component_a_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_card, {\n        title: \"Danh sách thông báo\"\n      }, {\n        extra: _withCtx(() => [_createVNode(_component_a_button, {\n          onClick: _cache[0] || (_cache[0] = $event => $options.ReadAllThongBao()),\n          style: {\n            \"margin-right\": \"10px\"\n          },\n          type: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\" Đánh dấu tất cả là đã đọc \")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_popconfirm, {\n          title: \"Bạn có muốn xóa bản ghi này ?\",\n          \"ok-text\": \"Có\",\n          \"cancel-text\": \"Không\",\n          onConfirm: _cache[1] || (_cache[1] = $event => $options.DeleteAllThongBao()),\n          onCancel: _ctx.cancel\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_button, {\n            type: \"primary\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Xóa tất cả thông báo \")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onCancel\"])]),\n        default: _withCtx(() => [_createVNode(_component_b_card_body, {\n          class: \"border-bottom-dashed border-bottom\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_b_form, null, {\n            default: _withCtx(() => [_createVNode(_component_b_row, {\n              class: \"g-3\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_b_col, {\n                xl: \"4\"\n              }, {\n                default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n                  type: \"text\",\n                  class: \"form-control search\",\n                  placeholder: \"Người gửi\",\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formSearch.createdByFilter = $event)\n                }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formSearch.createdByFilter]]), _hoisted_2])]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_b_col, {\n                xl: \"8\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_b_row, {\n                  class: \"g-3\"\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_b_col, {\n                    sm: \"4\"\n                  }, {\n                    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n                      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formSearch.noiDungFilter = $event),\n                      placeholder: \"Nội dung\",\n                      class: \"form-control\"\n                    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formSearch.noiDungFilter]])])]),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_b_col, {\n                    sm: \"4\"\n                  }, {\n                    default: _withCtx(() => [_createVNode(_component_b_form_select, {\n                      modelValue: $data.formSearch.daXemFilter,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.formSearch.daXemFilter = $event),\n                      class: \"mb-3\"\n                    }, {\n                      default: _withCtx(() => [_createVNode(_component_b_form_select_option, {\n                        value: \"\"\n                      }, {\n                        default: _withCtx(() => [_createTextVNode(\"-- Tất cả --\")]),\n                        _: 1 /* STABLE */\n                      }), _createVNode(_component_b_form_select_option, {\n                        value: \"true\"\n                      }, {\n                        default: _withCtx(() => [_createTextVNode(\"Đã đọc\")]),\n                        _: 1 /* STABLE */\n                      }), _createVNode(_component_b_form_select_option, {\n                        value: \"false\"\n                      }, {\n                        default: _withCtx(() => [_createTextVNode(\"Chưa đọc\")]),\n                        _: 1 /* STABLE */\n                      })]),\n                      _: 1 /* STABLE */\n                    }, 8 /* PROPS */, [\"modelValue\"])]),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_b_col, {\n                    sm: \"4\"\n                  }, {\n                    default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_b_button, {\n                      type: \"button\",\n                      variant: \"primary\",\n                      class: \"w-100\",\n                      onClick: $options.SearchData\n                    }, {\n                      default: _withCtx(() => [_hoisted_4, _createTextVNode(\"Tìm kiếm \")]),\n                      _: 1 /* STABLE */\n                    }, 8 /* PROPS */, [\"onClick\"])])]),\n                    _: 1 /* STABLE */\n                  })]),\n                  _: 1 /* STABLE */\n                })]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createElementVNode(\"div\", null, [$data.optionPage.totalCount === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_a_empty, {\n          image: $data.image,\n          description: $data.description\n        }, {\n          default: _withCtx(() => [_createVNode(_component_lottie, {\n            class: \"avatar-xl\",\n            options: _ctx.defaultOptions,\n            height: 75,\n            width: 75\n          }, null, 8 /* PROPS */, [\"options\"])]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"image\", \"description\"])])) : _createCommentVNode(\"v-if\", true), $data.optionPage.totalCount != 0 ? (_openBlock(), _createBlock(_component_a_table, {\n          key: 1,\n          columns: $data.tableColumns,\n          dataSource: $data.lstThongbao,\n          pagination: false,\n          loading: _ctx.loading\n        }, {\n          bodyCell: _withCtx(({\n            column,\n            record\n          }) => [column.key === 'createdDate' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(record.createdDate ? $options.formatDate(record.createdDate) : \"\"), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), column.key === 'daXem' ? (_openBlock(), _createBlock(_component_a_tag, {\n            key: 1,\n            style: {\n              \"width\": \"70px\",\n              \"text-align\": \"center\"\n            },\n            color: record.daXem === false ? 'blue' : 'green'\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(record.daXem ? \"Đã đọc\" : \"Chưa đọc\"), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"])) : _createCommentVNode(\"v-if\", true), column.key === 'link' ? (_openBlock(), _createElementBlock(\"a\", {\n            key: 2,\n            onClick: $event => $options.ReadThongBao(record.id),\n            href: record.link\n          }, [..._hoisted_9], 8 /* PROPS */, _hoisted_7)) : _createCommentVNode(\"v-if\", true), column.key === 'action' ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_10, [_createElementVNode(\"li\", _hoisted_11, [_createVNode(_component_b_link, {\n            variant: \"text-info\",\n            class: \"d-inline-block edit-item-btn\",\n            onClick: $event => $options.openModalDetail(record.id)\n          }, {\n            default: _withCtx(() => [_hoisted_12]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]), _createElementVNode(\"li\", _hoisted_13, [_createVNode(_component_b_link, {\n            variant: \"text-primary\",\n            class: \"d-inline-block edit-item-btn\",\n            onClick: $event => $options.ReadThongBao(record.id)\n          }, {\n            default: _withCtx(() => [_hoisted_14]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]), _createElementVNode(\"li\", _hoisted_15, [_createVNode(_component_a_popconfirm, {\n            title: \"Bạn có muốn xóa bản ghi này ?\",\n            \"ok-text\": \"Có\",\n            \"cancel-text\": \"Không\",\n            onConfirm: $event => $options.deleteThongBao(record.id),\n            onCancel: _ctx.cancel\n          }, {\n            default: _withCtx(() => [_createVNode(_component_b_link, {\n              class: \"text-danger d-inline-block remove-item-btn\"\n            }, {\n              default: _withCtx(() => [_hoisted_16]),\n              _: 1 /* STABLE */\n            })]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onConfirm\", \"onCancel\"])])])) : _createCommentVNode(\"v-if\", true)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"columns\", \"dataSource\", \"loading\"])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_Pagination, {\n          total: $data.optionPage.totalCount,\n          current: $data.optionPage.pageIndex,\n          \"per-page\": $data.optionPage.pageSize,\n          pageRange: $data.optionPage.totalCount,\n          onPageChanged: $options.handlePageChange\n        }, null, 8 /* PROPS */, [\"total\", \"current\", \"per-page\", \"pageRange\", \"onPageChanged\"])])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_ModalDetailThongBao, {\n    ref: \"modalDetailThongBao\"\n  }, null, 512 /* NEED_PATCH */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_hoisted_8","title","_createVNode","_component_PageHeader","$data","items","_component_a_row","_component_a_col","span","_component_a_card","extra","_withCtx","_component_a_button","onClick","_cache","$event","$options","ReadAllThongBao","style","type","_component_a_popconfirm","onConfirm","DeleteAllThongBao","onCancel","_ctx","cancel","_component_b_card_body","_component_b_form","_component_b_row","_component_b_col","xl","_hoisted_1","placeholder","formSearch","createdByFilter","_hoisted_2","sm","_hoisted_3","noiDungFilter","_component_b_form_select","daXemFilter","_component_b_form_select_option","value","_component_b_button","variant","SearchData","_hoisted_4","optionPage","totalCount","_createElementBlock","_hoisted_5","_component_a_empty","image","description","_component_lottie","options","defaultOptions","height","width","_createBlock","_component_a_table","columns","tableColumns","dataSource","lstThongbao","pagination","loading","bodyCell","column","record","key","_hoisted_6","_toDisplayString","createdDate","formatDate","_component_a_tag","color","daXem","ReadThongBao","id","href","link","_hoisted_10","_hoisted_11","_component_b_link","openModalDetail","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","deleteThongBao","_hoisted_16","_component_Pagination","total","current","pageIndex","pageSize","pageRange","onPageChanged","handlePageChange","_component_ModalDetailThongBao","ref"],"sources":["D:\\DA\\DoAnFrontEnd\\DoAnClient\\client\\src\\views\\dashboard\\QL_ThongBao\\index.vue"],"sourcesContent":["<template>\r\n  <PageHeader :title=\"title\" :items=\"items\" />\r\n  <a-row>\r\n    <a-col :span=\"24\">\r\n      <a-card title=\"Danh sách thông báo\">\r\n        <template #extra>\r\n          <a-button @click=\"ReadAllThongBao()\" style=\"margin-right: 10px\" type=\"primary\">\r\n            Đánh dấu tất cả là đã đọc </a-button\r\n          ><a-popconfirm\r\n            title=\"Bạn có muốn xóa bản ghi này ?\"\r\n            ok-text=\"Có\"\r\n            cancel-text=\"Không\"\r\n            @confirm=\"DeleteAllThongBao()\"\r\n            @cancel=\"cancel\"\r\n          >\r\n            <a-button type=\"primary\">Xóa tất cả thông báo </a-button></a-popconfirm\r\n          >\r\n        </template>\r\n\r\n        <b-card-body class=\"border-bottom-dashed border-bottom\">\r\n          <b-form>\r\n            <b-row class=\"g-3\">\r\n              <b-col xl=\"4\">\r\n                <div class=\"search-box\">\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control search\"\r\n                    placeholder=\"Người gửi\"\r\n                    v-model=\"formSearch.createdByFilter\"\r\n                  />\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </div>\r\n              </b-col>\r\n              <b-col xl=\"8\">\r\n                <b-row class=\"g-3\">\r\n                  <b-col sm=\"4\">\r\n                    <div class=\"\">\r\n                      <input\r\n                        v-model=\"formSearch.noiDungFilter\"\r\n                        placeholder=\"Nội dung\"\r\n                        class=\"form-control\"\r\n                      />\r\n                    </div>\r\n                  </b-col>\r\n                  <b-col sm=\"4\">\r\n                    <b-form-select v-model=\"formSearch.daXemFilter\" class=\"mb-3\">\r\n                      <b-form-select-option value=\"\">-- Tất cả --</b-form-select-option>\r\n                      <b-form-select-option value=\"true\">Đã đọc</b-form-select-option>\r\n                      <b-form-select-option value=\"false\"\r\n                        >Chưa đọc</b-form-select-option\r\n                      ></b-form-select\r\n                    >\r\n                  </b-col>\r\n                  <b-col sm=\"4\">\r\n                    <div>\r\n                      <b-button\r\n                        type=\"button\"\r\n                        variant=\"primary\"\r\n                        class=\"w-100\"\r\n                        @click=\"SearchData\"\r\n                      >\r\n                        <i class=\"ri-equalizer-fill me-2 align-bottom\"></i>Tìm kiếm\r\n                      </b-button>\r\n                    </div>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-col>\r\n            </b-row>\r\n          </b-form>\r\n        </b-card-body>\r\n        <!-- <a-card class=\"border-bottom-dashed border-bottom\">\r\n            <a-form>\r\n              <a-row :gutter=\"3\">\r\n                <a-col :span=\"8\">\r\n                  <div class=\"search-box\">\r\n                    <a-input v-model=\"formSearch.createdByFilter\" placeholder=\"     Người gửi\" />\r\n                    <i class=\"ri-search-line search-icon\"></i>\r\n                  </div>\r\n                </a-col>\r\n                <a-col :span=\"12\">\r\n                  <a-row :gutter=\"3\">\r\n                    <a-col :span=\"8\">\r\n                      <a-input v-model=\"formSearch.noiDungFilter\" placeholder=\"Nội dung\" />\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-select style=\"\" v-model=\"formSearch.daXemFilter\" class=\"mb-3\">\r\n                        <a-select-option value=\"\">-- Tất cả --</a-select-option>\r\n                        <a-select-option value=\"true\">Đã đọc</a-select-option>\r\n                        <a-select-option value=\"false\">Chưa đọc</a-select-option>\r\n                      </a-select>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-button type=\"primary\" class=\"w-100\" @click=\"SearchData\">\r\n                        <i class=\"ri-equalizer-fill me-2 align-bottom\"></i>Tìm kiếm\r\n                      </a-button>\r\n                    </a-col>\r\n                  </a-row>\r\n                </a-col>\r\n              </a-row>\r\n            </a-form>\r\n          </a-card>-->\r\n        <div>\r\n          <div v-if=\"optionPage.totalCount === 0\" class=\"noresult\">\r\n            <a-empty :image=\"image\" :description=\"description\">\r\n              <lottie\r\n                class=\"avatar-xl\"\r\n                :options=\"defaultOptions\"\r\n                :height=\"75\"\r\n                :width=\"75\"\r\n              />\r\n            </a-empty>\r\n          </div>\r\n          <a-table\r\n            v-if=\"optionPage.totalCount != 0\"\r\n            :columns=\"tableColumns\"\r\n            :dataSource=\"lstThongbao\"\r\n            :pagination=\"false\"\r\n            :loading=\"loading\"\r\n          >\r\n            <template #bodyCell=\"{ column, record }\">\r\n              <template v-if=\"column.key === 'createdDate'\">\r\n                <span>\r\n                  {{ record.createdDate ? formatDate(record.createdDate) : \"\" }}\r\n                </span>\r\n              </template>\r\n              <template v-if=\"column.key === 'daXem'\">\r\n                <a-tag\r\n                  style=\"width: 70px; text-align: center\"\r\n                  :color=\"record.daXem === false ? 'blue' : 'green'\"\r\n                >\r\n                  {{ record.daXem ? \"Đã đọc\" : \"Chưa đọc\" }}\r\n                </a-tag>\r\n              </template>\r\n              <template v-if=\"column.key === 'link'\">\r\n                <a @click=\"ReadThongBao(record.id)\" v-bind:href=\"record.link\"\r\n                  ><i class=\"ri-eye-fill fs-16\"></i\r\n                ></a>\r\n              </template>\r\n              <template v-if=\"column.key === 'action'\">\r\n                <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                  <li\r\n                    class=\"list-inline-item\"\r\n                    data-bs-toggle=\"tooltip\"\r\n                    data-bs-trigger=\"hover\"\r\n                    data-bs-placement=\"top\"\r\n                    title=\"Chi tiết\"\r\n                  >\r\n                    <b-link\r\n                      variant=\"text-info\"\r\n                      class=\"d-inline-block edit-item-btn\"\r\n                      @click=\"openModalDetail(record.id)\"\r\n                    >\r\n                      <i class=\"ri-information-line fs-16\"></i>\r\n                    </b-link>\r\n                  </li>\r\n                  <li\r\n                    class=\"list-inline-item edit\"\r\n                    data-bs-toggle=\"tooltip\"\r\n                    data-bs-trigger=\"hover\"\r\n                    data-bs-placement=\"top\"\r\n                    title=\"Đánh dấu đã đọc\"\r\n                  >\r\n                    <b-link\r\n                      variant=\"text-primary\"\r\n                      class=\"d-inline-block edit-item-btn\"\r\n                      @click=\"ReadThongBao(record.id)\"\r\n                    >\r\n                      <i class=\"ri-check-double-line fs-16\"></i>\r\n                    </b-link>\r\n                  </li>\r\n                  <li\r\n                    class=\"list-inline-item\"\r\n                    data-bs-toggle=\"tooltip\"\r\n                    data-bs-trigger=\"hover\"\r\n                    data-bs-placement=\"top\"\r\n                    title=\"Remove\"\r\n                  >\r\n                    <a-popconfirm\r\n                      title=\"Bạn có muốn xóa bản ghi này ?\"\r\n                      ok-text=\"Có\"\r\n                      cancel-text=\"Không\"\r\n                      @confirm=\"deleteThongBao(record.id)\"\r\n                      @cancel=\"cancel\"\r\n                    >\r\n                      <b-link class=\"text-danger d-inline-block remove-item-btn\">\r\n                        <i class=\"ri-delete-bin-5-fill fs-16\"></i>\r\n                      </b-link>\r\n                    </a-popconfirm>\r\n                  </li>\r\n                </ul>\r\n              </template>\r\n            </template>\r\n          </a-table>\r\n          <Pagination\r\n            :total=\"optionPage.totalCount\"\r\n            :current=\"optionPage.pageIndex\"\r\n            :per-page=\"optionPage.pageSize\"\r\n            :pageRange=\"optionPage.totalCount\"\r\n            @page-changed=\"handlePageChange\"\r\n          />\r\n        </div>\r\n      </a-card>\r\n    </a-col>\r\n  </a-row>\r\n  <ModalDetailThongBao ref=\"modalDetailThongBao\"></ModalDetailThongBao>\r\n</template>\r\n<script>\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../../app.config\";\r\nimport Pagination from \"../../../components/widgets/Pagination.vue\";\r\nimport APIService from \"@/helpers/ApiService\";\r\nimport { Empty } from \"ant-design-vue\";\r\nimport Common from \"@/helpers/Common\";\r\nimport ModalDetailThongBao from \"./ModalDetailThongBao.vue\";\r\n\r\nexport default {\r\n  created() {},\r\n  mounted() {\r\n    this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n  },\r\n  components: {\r\n    PageHeader,\r\n    Pagination,\r\n    ModalDetailThongBao,\r\n\r\n    AEmpty: Empty,\r\n  },\r\n  page: {\r\n    title: \"Quản lý thông báo\",\r\n    meta: [\r\n      {\r\n        name: \"Quản lý thông báo\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n  data() {\r\n    return {\r\n      image: \"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg\", // Thay đổi hình ảnh tùy theo nhu cầu của bạn\r\n      description: \"Hiện tại chưa có dữ liệu để hiển thị. Vui lòng thêm mới hoặc Import.\",\r\n      title: \"Quản lý thông báo\",\r\n      items: [\r\n        {\r\n          text: \"Dashboard\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Tất cả các thông báo\",\r\n          active: true,\r\n        },\r\n      ],\r\n      date1: null,\r\n      date: null,\r\n      tableColumns: [\r\n        { title: \"Người gửi\", dataIndex: \"createdBy\", key: \"createBy\" },\r\n        { title: \"Nội dung\", dataIndex: \"noiDung\", key: \"noiDung\" },\r\n        { title: \"Thời gian\", dataIndex: \"createdDate\", key: \"createdDate\" },\r\n        { title: \"Trạng thái\", dataIndex: \"daXem\", key: \"daXem\" },\r\n        { title: \"Xem\", dataIndex: \"link\", key: \"link\" },\r\n        { title: \"Thao tác\", key: \"action\", width: 200 },\r\n      ],\r\n      searchQuery: null,\r\n      value: \"All\",\r\n      value1: null,\r\n      pages: [],\r\n      lstThongbao: [],\r\n      optionPage: {\r\n        pageIndex: 1,\r\n        pageSize: 20,\r\n        totalCount: 0,\r\n      },\r\n      formSearch: {\r\n        createdByFilter: \"\",\r\n        // nguoiNhanFilter: \"\",\r\n        noiDungFilter: \"\",\r\n        daXemFilter: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    openModalDetail(id) {\r\n      this.$refs.modalDetailThongBao.showModal(id);\r\n    },\r\n    handlePageChange(page) {\r\n      this.optionPage.pageIndex = page;\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n    },\r\n    SearchData() {\r\n      var searchParam = {\r\n        pageIndex: this.optionPage.pageIndex,\r\n        pageSize: this.optionPage.pageSize,\r\n        createdByFilter: this.formSearch.createdByFilter,\r\n        noiDungFilter: this.formSearch.noiDungFilter,\r\n        daXemFilter: this.formSearch.daXemFilter,\r\n      };\r\n\r\n      this.loadData(1, 10, searchParam);\r\n    },\r\n    formatDate(dateStr) {\r\n      return (\r\n        dateStr.slice(11, 16) +\r\n        \" ngày \" +\r\n        dateStr.slice(8, 10) +\r\n        \"-\" +\r\n        dateStr.slice(5, 7) +\r\n        \"-\" +\r\n        dateStr.slice(0, 4)\r\n      );\r\n    },\r\n    async loadData(pageIndex, pageSize, params) {\r\n      var searchParam = {\r\n        pageIndex: pageIndex,\r\n        pageSize: pageSize,\r\n      };\r\n      if (params) {\r\n        searchParam = params;\r\n      }\r\n      var urlQuery = new URLSearchParams(searchParam).toString();\r\n      var result = await APIService.get(`/ThongBao/GetDataPage?` + urlQuery);\r\n      this.lstThongbao = result.data.data.items;\r\n      if (result.data.data != null && result.data.data.items != null) {\r\n        var res = result.data.data;\r\n        this.lstThongbao = result.data.data.items;\r\n        this.optionPage.pageIndex = res.pageIndex;\r\n        this.optionPage.pageSize = res.pageSize;\r\n        this.optionPage.totalCount = res.totalCount;\r\n        this.lstThongbao.createDate = this.formatDate(this.lstThongbao.createdDate) \r\n      }\r\n    },\r\n    async deleteThongBao(id) {\r\n      var res = await APIService.delete(`/ThongBao/delete/${id}`);\r\n      if (res.data.status !== \"Success\") {\r\n        this.$message.error();\r\n        return;\r\n      }\r\n      this.$message.success(\"Xóa thông báo thành công\");\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n    },\r\n\r\n    async ReadThongBao(id) {\r\n      var res = await APIService.put(`/ThongBao/Read/${id}`);\r\n      if (res.data.status !== \"Success\") {\r\n        this.$message.error();\r\n        return;\r\n      }\r\n      this.$message.success(\"Đã đọc thông báo!\");\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n    },\r\n\r\n    async ReadAllThongBao(id) {\r\n      var res = await APIService.put(`/ThongBao/ReadAll`);\r\n      if (res.data.status !== \"Success\") {\r\n        this.$message.error();\r\n        return;\r\n      }\r\n      this.$message.success(\"Đã đọc tất cả thông báo!\");\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n    },\r\n    async DeleteAllThongBao(id) {\r\n      var res = await APIService.delete(`/ThongBao/DeleteAll`);\r\n      if (res.data.status !== \"Success\") {\r\n        this.$message.error(res.message);\r\n        return;\r\n      }\r\n      this.$message.success(\"Đã xóa tất cả thông báo!\");\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.noresult {\r\n  text-align: center;\r\n  margin-top: 50px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}