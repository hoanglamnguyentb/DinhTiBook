{"ast":null,"code":"import Layout from \"../../../layouts/main.vue\";\nimport appConfig from \"../../../../app.config\";\nimport PageHeader from \"@/components/page-header\";\nimport animationData from \"@/components/Animation/uetqnvvg.json\";\nimport Lottie from \"@/components/widgets/lottie.vue\";\nimport APIService from \"@/helpers/ApiService\";\nimport { toast } from 'vue3-toastify';\nimport 'vue3-toastify/dist/index.css';\nimport Common from \"@/helpers/Common\";\nexport default {\n  page: {\n    title: \"Order Details\",\n    meta: [{\n      name: \"description\",\n      content: appConfig.description\n    }]\n  },\n  data() {\n    return {\n      title: \"Chi tiết văn bản\",\n      items: [{\n        text: \"Văn bản\",\n        href: \"/\"\n      }, {\n        text: \"Chi tiết văn bản\",\n        active: true\n      }],\n      defaultOptions: {\n        animationData: animationData\n      },\n      post: {}\n    };\n  },\n  created() {\n    this.GetById();\n  },\n  methods: {\n    formatDate: Common.formatDate,\n    async GetById() {\n      try {\n        var paramId = this.$route.params.id;\n        var dataPost = await APIService.get(\"VanBan/\" + paramId);\n        var res = dataPost.data;\n        if (res != null && res.data != null) {\n          this.post = res.data;\n        } else {\n          toast.error(\"Không tìm thấy thông tin văn bản.\", {\n            \"theme\": \"colored\",\n            autoClose: 2000\n          });\n        }\n      } catch (e) {\n        if (e.status == 401) {\n          toast.error(\"Bạn không có quyền truy cập.\", {\n            \"theme\": \"colored\",\n            autoClose: 2000\n          });\n        } else {\n          if (e.data && e.data.Message) {\n            this.errMessage = e.data.Message;\n            toast.error(e.data.Message, {\n              \"theme\": \"colored\",\n              autoClose: 2000\n            });\n          } else {\n            toast.error(\"Không tìm thấy thông tin văn bản.\", {\n              \"theme\": \"colored\",\n              autoClose: 2000\n            });\n          }\n        }\n      }\n    },\n    async TaiFile() {\n      try {\n        const fileName = this.post.fileDinhKem;\n        await APIService.get(\"TinTuc/download?fileName=\" + fileName, {\n          responseType: 'blob'\n        });\n        //const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = process.env.VUE_APP_URL + \"TinTuc/download?fileName=\" + fileName;\n        link.setAttribute('download', fileName);\n        document.body.appendChild(link);\n        link.click();\n      } catch (e) {\n        console.error('Error:', e);\n      }\n      ;\n    }\n  },\n  components: {\n    Layout,\n    PageHeader,\n    lottie: Lottie\n  }\n};","map":{"version":3,"names":["Layout","appConfig","PageHeader","animationData","Lottie","APIService","toast","Common","page","title","meta","name","content","description","data","items","text","href","active","defaultOptions","post","created","GetById","methods","formatDate","paramId","$route","params","id","dataPost","get","res","error","autoClose","e","status","Message","errMessage","TaiFile","fileName","fileDinhKem","responseType","link","document","createElement","process","env","VUE_APP_URL","setAttribute","body","appendChild","click","console","components","lottie"],"sources":["D:\\HINET_1\\BacKan\\client\\src\\views\\dashboard\\QL_VanBan\\Detail.vue"],"sourcesContent":["<template>\r\n   <PageHeader :title=\"title\" :items=\"items\" />\r\n    <a-row>\r\n      <a-col span=\"24\">\r\n        <a-card no-body>\r\n            <div class=\"d-flex align-items-center\" style=\"margin-bottom: 20px;\">\r\n              <h5 class=\"card-title flex-grow-1 mb-0\">{{ post.nameText }}</h5>\r\n            </div>\r\n          <a-card-body>\r\n            <a-descriptions bordered  :labelStyle=\"{ width: '150px' }\" >\r\n              <a-descriptions-item :span=\"24\" label=\"Tên văn bản\">{{ post.nameText }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Số hiệu văn bản\">{{ post.number }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Ngày có hiệu lực\">{{ post.effectiveDate }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Cơ quan ban hành\">{{ post.agencyIssued }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Ngày ban hành\">{{ post.publicDate }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Trạng thái\">{{ post.status }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Loại văn bản   \">{{ post.documentType }}</a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"Trích dẫn\">{{ post.trichDan }}</a-descriptions-item>\r\n              <!-- <a-descriptions-item  :span=\"24\" label=\"Nội dung\"><div style=\"overflow: hidden; max-width: 100%;\"  v-html=\"post.content\"></div></a-descriptions-item> -->\r\n              <a-descriptions-item :span=\"24\" label=\"Nội dung\">\r\n              <div style=\"overflow: hidden; max-width: 600px;\">\r\n                <div v-html=\"post.content\" style=\"max-width: 100%;\"></div>\r\n              </div>\r\n            </a-descriptions-item>\r\n              <a-descriptions-item :span=\"24\" label=\"File đính kèm\"><a-button  @click=\"TaiFile\">Tải xuống</a-button></a-descriptions-item>\r\n            </a-descriptions>\r\n          </a-card-body>\r\n        </a-card>\r\n        \r\n      </a-col>\r\n    </a-row>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Layout from \"../../../layouts/main.vue\";\r\nimport appConfig from \"../../../../app.config\";\r\nimport PageHeader from \"@/components/page-header\";\r\n\r\nimport animationData from \"@/components/Animation/uetqnvvg.json\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\n\r\nimport APIService from \"@/helpers/ApiService\"\r\n\r\nimport { toast } from 'vue3-toastify';\r\nimport 'vue3-toastify/dist/index.css';\r\nimport Common from \"@/helpers/Common\"\r\nexport default {\r\n  page: {\r\n    title: \"Order Details\",\r\n    meta: [\r\n      {\r\n        name: \"description\",\r\n        content: appConfig.description,\r\n      },\r\n    ],\r\n  },\r\n    data() {\r\n    return {\r\n      title: \"Chi tiết văn bản\",\r\n      items: [\r\n        {\r\n          text: \"Văn bản\",\r\n          href: \"/\",\r\n        },\r\n        {\r\n          text: \"Chi tiết văn bản\",\r\n          active: true,\r\n        },\r\n      ],\r\n      defaultOptions: { animationData: animationData },\r\n      post:{},\r\n      \r\n    };\r\n    \r\n  },\r\n  created(){\r\n    this.GetById();\r\n  },  \r\n  methods:{\r\n    formatDate: Common.formatDate,\r\n    async GetById(){\r\n      try {\r\n        var paramId = this.$route.params.id;\r\n        var dataPost = await APIService.get(\"VanBan/\" + paramId);\r\n        var res = dataPost.data;\r\n        if(res != null && res.data != null){\r\n          this.post = res.data\r\n        }else{\r\n          toast.error(\"Không tìm thấy thông tin văn bản.\",{\r\n            \"theme\": \"colored\",\r\n            autoClose: 2000\r\n          });\r\n        }\r\n      } catch (e) {\r\n        if(e.status == 401){\r\n          toast.error(\"Bạn không có quyền truy cập.\",{\r\n            \"theme\": \"colored\",\r\n            autoClose: 2000\r\n          });\r\n        }else {\r\n          if(e.data && e.data.Message){\r\n            this.errMessage = e.data.Message;\r\n            toast.error(e.data.Message,{\r\n              \"theme\": \"colored\",\r\n              autoClose: 2000\r\n            });\r\n          }else{\r\n            toast.error(\"Không tìm thấy thông tin văn bản.\",{\r\n              \"theme\": \"colored\",\r\n              autoClose: 2000\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \r\n    async TaiFile(){\r\n      try{\r\n        const fileName = this.post.fileDinhKem;\r\n        await APIService.get(\"TinTuc/download?fileName=\" + fileName, { responseType: 'blob' });\r\n        //const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        const link = document.createElement('a');\r\n        link.href = process.env.VUE_APP_URL + \"TinTuc/download?fileName=\" + fileName;\r\n        link.setAttribute('download', fileName);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n      }     \r\n      catch(e){\r\n        console.error('Error:', e);\r\n      };\r\n      \r\n    }\r\n  },\r\n  components: {\r\n    Layout,\r\n    PageHeader,\r\n    lottie: Lottie\r\n  },\r\n    \r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AAmCA,OAAOA,MAAK,MAAO,2BAA2B;AAC9C,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,OAAOC,UAAS,MAAO,0BAA0B;AAEjD,OAAOC,aAAY,MAAO,sCAAsC;AAChE,OAAOC,MAAK,MAAO,iCAAiC;AAEpD,OAAOC,UAAS,MAAO,sBAAqB;AAE5C,SAASC,KAAI,QAAS,eAAe;AACrC,OAAO,8BAA8B;AACrC,OAAOC,MAAK,MAAO,kBAAiB;AACpC,eAAe;EACbC,IAAI,EAAE;IACJC,KAAK,EAAE,eAAe;IACtBC,IAAI,EAAE,CACJ;MACEC,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAEX,SAAS,CAACY;IACrB,CAAC;EAEL,CAAC;EACCC,IAAIA,CAAA,EAAG;IACP,OAAO;MACLL,KAAK,EAAE,kBAAkB;MACzBM,KAAK,EAAE,CACL;QACEC,IAAI,EAAE,SAAS;QACfC,IAAI,EAAE;MACR,CAAC,EACD;QACED,IAAI,EAAE,kBAAkB;QACxBE,MAAM,EAAE;MACV,CAAC,CACF;MACDC,cAAc,EAAE;QAAEhB,aAAa,EAAEA;MAAc,CAAC;MAChDiB,IAAI,EAAC,CAAC;IAER,CAAC;EAEH,CAAC;EACDC,OAAOA,CAAA,EAAE;IACP,IAAI,CAACC,OAAO,CAAC,CAAC;EAChB,CAAC;EACDC,OAAO,EAAC;IACNC,UAAU,EAAEjB,MAAM,CAACiB,UAAU;IAC7B,MAAMF,OAAOA,CAAA,EAAE;MACb,IAAI;QACF,IAAIG,OAAM,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE;QACnC,IAAIC,QAAO,GAAI,MAAMxB,UAAU,CAACyB,GAAG,CAAC,SAAQ,GAAIL,OAAO,CAAC;QACxD,IAAIM,GAAE,GAAIF,QAAQ,CAACf,IAAI;QACvB,IAAGiB,GAAE,IAAK,IAAG,IAAKA,GAAG,CAACjB,IAAG,IAAK,IAAI,EAAC;UACjC,IAAI,CAACM,IAAG,GAAIW,GAAG,CAACjB,IAAG;QACrB,CAAC,MAAI;UACHR,KAAK,CAAC0B,KAAK,CAAC,mCAAmC,EAAC;YAC9C,OAAO,EAAE,SAAS;YAClBC,SAAS,EAAE;UACb,CAAC,CAAC;QACJ;MACF,EAAE,OAAOC,CAAC,EAAE;QACV,IAAGA,CAAC,CAACC,MAAK,IAAK,GAAG,EAAC;UACjB7B,KAAK,CAAC0B,KAAK,CAAC,8BAA8B,EAAC;YACzC,OAAO,EAAE,SAAS;YAClBC,SAAS,EAAE;UACb,CAAC,CAAC;QACJ,CAAC,MAAK;UACJ,IAAGC,CAAC,CAACpB,IAAG,IAAKoB,CAAC,CAACpB,IAAI,CAACsB,OAAO,EAAC;YAC1B,IAAI,CAACC,UAAS,GAAIH,CAAC,CAACpB,IAAI,CAACsB,OAAO;YAChC9B,KAAK,CAAC0B,KAAK,CAACE,CAAC,CAACpB,IAAI,CAACsB,OAAO,EAAC;cACzB,OAAO,EAAE,SAAS;cAClBH,SAAS,EAAE;YACb,CAAC,CAAC;UACJ,CAAC,MAAI;YACH3B,KAAK,CAAC0B,KAAK,CAAC,mCAAmC,EAAC;cAC9C,OAAO,EAAE,SAAS;cAClBC,SAAS,EAAE;YACb,CAAC,CAAC;UACJ;QACF;MACF;IACF,CAAC;IAED,MAAMK,OAAOA,CAAA,EAAE;MACb,IAAG;QACD,MAAMC,QAAO,GAAI,IAAI,CAACnB,IAAI,CAACoB,WAAW;QACtC,MAAMnC,UAAU,CAACyB,GAAG,CAAC,2BAA0B,GAAIS,QAAQ,EAAE;UAAEE,YAAY,EAAE;QAAO,CAAC,CAAC;QACtF;QACA,MAAMC,IAAG,GAAIC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACxCF,IAAI,CAACzB,IAAG,GAAI4B,OAAO,CAACC,GAAG,CAACC,WAAU,GAAI,2BAA0B,GAAIR,QAAQ;QAC5EG,IAAI,CAACM,YAAY,CAAC,UAAU,EAAET,QAAQ,CAAC;QACvCI,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,IAAI,CAAC;QAC/BA,IAAI,CAACS,KAAK,CAAC,CAAC;MACd,EACA,OAAMjB,CAAC,EAAC;QACNkB,OAAO,CAACpB,KAAK,CAAC,QAAQ,EAAEE,CAAC,CAAC;MAC5B;MAAC;IAEH;EACF,CAAC;EACDmB,UAAU,EAAE;IACVrD,MAAM;IACNE,UAAU;IACVoD,MAAM,EAAElD;EACV;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}