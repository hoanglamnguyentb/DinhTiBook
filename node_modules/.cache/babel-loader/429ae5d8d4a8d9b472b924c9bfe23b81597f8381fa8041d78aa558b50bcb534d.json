{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport modules from './modules';\nconst store = createStore({\n  modules,\n  // Enable strict mode in development to get a warning\n  // when mutating state outside of a mutation.\n  // https://vuex.vuejs.org/guide/strict.html\n  strict: process.env.NODE_ENV !== 'production',\n  //giỏ hàng\n  state: {\n    cart: [],\n    cartTotal: 0\n  },\n  mutations: {\n    addRemoveCart(state, payload) {\n      payload.toAdd ? state.cart.push(payload.products) : state.cart = state.cart.filter(function (object) {\n        return object.id !== payload.products.id;\n      });\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n      console.log('tổng tiền', state.cartTotal);\n      console.log('giỏ hàng', state.cart);\n    },\n    updateCart(state, payload) {\n      state.cart.find(o => o.id == payload.products.id).quantity = payload.products.quantity;\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    addCart(state, payload) {\n      if (payload.Add) {\n        state.cart.push(payload.products);\n      }\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    updateCart1(state, payload) {\n      state.cart.find(o => o.id == payload.products.id).qty += payload.newQty;\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.Price * object.qty);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    clearCart(state) {\n      state.cart = [];\n      state.cartTotal = 0;\n    },\n    CapNhatCart(state, payload) {\n      const product = state.cart.find(o => o.id === payload.products.id);\n      if (product) {\n        product.quantity = payload.products.quantity;\n      }\n      this.commit('updateCartTotal');\n    },\n    //tai lai gio hàng mà ko mất sp\n    async initialiseStore(state) {\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart'));\n      }\n      if (localStorage.getItem('cartTotal')) {\n        state.cartTotal = parseFloat(localStorage.getItem('cartTotal'));\n      }\n      return true;\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","modules","store","strict","process","env","NODE_ENV","state","cart","cartTotal","mutations","addRemoveCart","payload","toAdd","push","products","filter","object","id","reduce","accumlator","parseFloat","giaTien","quantity","localStorage","setItem","JSON","stringify","console","log","updateCart","find","o","addCart","Add","updateCart1","qty","newQty","Price","clearCart","CapNhatCart","product","commit","initialiseStore","getItem","parse"],"sources":["C:/Users/Admin/Desktop/DoAnClient/client/src/state/store.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nimport modules from './modules'\r\n\r\nconst store = createStore({\r\n  modules,\r\n  // Enable strict mode in development to get a warning\r\n  // when mutating state outside of a mutation.\r\n  // https://vuex.vuejs.org/guide/strict.html\r\n  strict: process.env.NODE_ENV !== 'production',\r\n\r\n\r\n//giỏ hàng\r\n  state:{\r\n    cart:[],\r\n    cartTotal:0\r\n  },\r\n  mutations:{\r\n    addRemoveCart(state, payload) {\r\n      payload.toAdd?\r\n      state.cart.push(payload.products):\r\n      state.cart = state.cart.filter(function(object){\r\n          return object.id !==payload.products.id\r\n      });\r\n      state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.giaTien*object.quantity);\r\n      },0);\r\n      localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n      localStorage.setItem('cart',JSON.stringify(state.cart));\r\n  \r\n      console.log('tổng tiền',state.cartTotal)\r\n      console.log('giỏ hàng',state.cart)\r\n      },\r\n\r\n    updateCart(state,payload){\r\n      state.cart.find(o => o.id == payload.products.id).quantity = payload.products.quantity;\r\n      state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n        return parseFloat(accumlator) + parseFloat(object.giaTien*object.quantity);\r\n      },0);\r\n      localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n      localStorage.setItem('cart',JSON.stringify(state.cart));\r\n\r\n      },\r\n      addCart(state, payload){\r\n        if(payload.Add){\r\n          state.cart.push(payload.products);\r\n        }\r\n        state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\r\n        },0);\r\n        localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n        localStorage.setItem('cart',JSON.stringify(state.cart));\r\n      },\r\n      updateCart1(state, payload){\r\n        state.cart.find(o => o.id == payload.products.id).qty += payload.newQty;\r\n          \r\n        state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.Price * object.qty);\r\n        },0);\r\n        localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n        localStorage.setItem('cart',JSON.stringify(state.cart));\r\n      },\r\n      clearCart(state){\r\n        state.cart = [];\r\n        state.cartTotal = 0;\r\n      },\r\n      CapNhatCart(state, payload) {\r\n        const product = state.cart.find(o => o.id === payload.products.id);\r\n        if (product) {\r\n          product.quantity = payload.products.quantity;\r\n        }\r\n        this.commit('updateCartTotal');\r\n      },\r\n      \r\n    //tai lai gio hàng mà ko mất sp\r\n    async initialiseStore(state) {\r\n      if(localStorage.getItem('cart')){\r\n       state.cart = JSON.parse(localStorage.getItem('cart'))\r\n      }\r\n      if(localStorage.getItem('cartTotal')){\r\n      state.cartTotal = parseFloat(localStorage.getItem('cartTotal')) \r\n      }\r\n      return true;\r\n },\r\n  }\r\n})\r\n\r\nexport default store\r\n\r\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBC,OAAO;EACP;EACA;EACA;EACAE,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;EAG/C;EACEC,KAAK,EAAC;IACJC,IAAI,EAAC,EAAE;IACPC,SAAS,EAAC;EACZ,CAAC;EACDC,SAAS,EAAC;IACRC,aAAaA,CAACJ,KAAK,EAAEK,OAAO,EAAE;MAC5BA,OAAO,CAACC,KAAK,GACbN,KAAK,CAACC,IAAI,CAACM,IAAI,CAACF,OAAO,CAACG,QAAQ,CAAC,GACjCR,KAAK,CAACC,IAAI,GAAGD,KAAK,CAACC,IAAI,CAACQ,MAAM,CAAC,UAASC,MAAM,EAAC;QAC3C,OAAOA,MAAM,CAACC,EAAE,KAAIN,OAAO,CAACG,QAAQ,CAACG,EAAE;MAC3C,CAAC,CAAC;MACFX,KAAK,CAACE,SAAS,GAAGF,KAAK,CAACC,IAAI,CAACW,MAAM,CAAC,CAACC,UAAU,EAAEH,MAAM,KAAG;QACtD,OAAOI,UAAU,CAACD,UAAU,CAAC,GAAGC,UAAU,CAACJ,MAAM,CAACK,OAAO,GAACL,MAAM,CAACM,QAAQ,CAAC;MAC9E,CAAC,EAAC,CAAC,CAAC;MACJC,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACE,SAAS,CAAC,CAAC;MACjEe,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACC,IAAI,CAAC,CAAC;MAEvDoB,OAAO,CAACC,GAAG,CAAC,WAAW,EAACtB,KAAK,CAACE,SAAS,CAAC;MACxCmB,OAAO,CAACC,GAAG,CAAC,UAAU,EAACtB,KAAK,CAACC,IAAI,CAAC;IAClC,CAAC;IAEHsB,UAAUA,CAACvB,KAAK,EAACK,OAAO,EAAC;MACvBL,KAAK,CAACC,IAAI,CAACuB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,EAAE,IAAIN,OAAO,CAACG,QAAQ,CAACG,EAAE,CAAC,CAACK,QAAQ,GAAGX,OAAO,CAACG,QAAQ,CAACQ,QAAQ;MACtFhB,KAAK,CAACE,SAAS,GAAGF,KAAK,CAACC,IAAI,CAACW,MAAM,CAAC,CAACC,UAAU,EAAEH,MAAM,KAAG;QACxD,OAAOI,UAAU,CAACD,UAAU,CAAC,GAAGC,UAAU,CAACJ,MAAM,CAACK,OAAO,GAACL,MAAM,CAACM,QAAQ,CAAC;MAC5E,CAAC,EAAC,CAAC,CAAC;MACJC,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACE,SAAS,CAAC,CAAC;MACjEe,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACC,IAAI,CAAC,CAAC;IAEvD,CAAC;IACDyB,OAAOA,CAAC1B,KAAK,EAAEK,OAAO,EAAC;MACrB,IAAGA,OAAO,CAACsB,GAAG,EAAC;QACb3B,KAAK,CAACC,IAAI,CAACM,IAAI,CAACF,OAAO,CAACG,QAAQ,CAAC;MACnC;MACAR,KAAK,CAACE,SAAS,GAAGF,KAAK,CAACC,IAAI,CAACW,MAAM,CAAC,CAACC,UAAU,EAAEH,MAAM,KAAG;QACxD,OAAOI,UAAU,CAACD,UAAU,CAAC,GAAGC,UAAU,CAACJ,MAAM,CAACK,OAAO,GAAGL,MAAM,CAACM,QAAQ,CAAC;MAC9E,CAAC,EAAC,CAAC,CAAC;MACJC,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACE,SAAS,CAAC,CAAC;MACjEe,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACC,IAAI,CAAC,CAAC;IACzD,CAAC;IACD2B,WAAWA,CAAC5B,KAAK,EAAEK,OAAO,EAAC;MACzBL,KAAK,CAACC,IAAI,CAACuB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,EAAE,IAAIN,OAAO,CAACG,QAAQ,CAACG,EAAE,CAAC,CAACkB,GAAG,IAAIxB,OAAO,CAACyB,MAAM;MAEvE9B,KAAK,CAACE,SAAS,GAAGF,KAAK,CAACC,IAAI,CAACW,MAAM,CAAC,CAACC,UAAU,EAAEH,MAAM,KAAG;QACxD,OAAOI,UAAU,CAACD,UAAU,CAAC,GAAGC,UAAU,CAACJ,MAAM,CAACqB,KAAK,GAAGrB,MAAM,CAACmB,GAAG,CAAC;MACvE,CAAC,EAAC,CAAC,CAAC;MACJZ,YAAY,CAACC,OAAO,CAAC,WAAW,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACE,SAAS,CAAC,CAAC;MACjEe,YAAY,CAACC,OAAO,CAAC,MAAM,EAACC,IAAI,CAACC,SAAS,CAACpB,KAAK,CAACC,IAAI,CAAC,CAAC;IACzD,CAAC;IACD+B,SAASA,CAAChC,KAAK,EAAC;MACdA,KAAK,CAACC,IAAI,GAAG,EAAE;MACfD,KAAK,CAACE,SAAS,GAAG,CAAC;IACrB,CAAC;IACD+B,WAAWA,CAACjC,KAAK,EAAEK,OAAO,EAAE;MAC1B,MAAM6B,OAAO,GAAGlC,KAAK,CAACC,IAAI,CAACuB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACd,EAAE,KAAKN,OAAO,CAACG,QAAQ,CAACG,EAAE,CAAC;MAClE,IAAIuB,OAAO,EAAE;QACXA,OAAO,CAAClB,QAAQ,GAAGX,OAAO,CAACG,QAAQ,CAACQ,QAAQ;MAC9C;MACA,IAAI,CAACmB,MAAM,CAAC,iBAAiB,CAAC;IAChC,CAAC;IAEH;IACA,MAAMC,eAAeA,CAACpC,KAAK,EAAE;MAC3B,IAAGiB,YAAY,CAACoB,OAAO,CAAC,MAAM,CAAC,EAAC;QAC/BrC,KAAK,CAACC,IAAI,GAAGkB,IAAI,CAACmB,KAAK,CAACrB,YAAY,CAACoB,OAAO,CAAC,MAAM,CAAC,CAAC;MACtD;MACA,IAAGpB,YAAY,CAACoB,OAAO,CAAC,WAAW,CAAC,EAAC;QACrCrC,KAAK,CAACE,SAAS,GAAGY,UAAU,CAACG,YAAY,CAACoB,OAAO,CAAC,WAAW,CAAC,CAAC;MAC/D;MACA,OAAO,IAAI;IAChB;EACC;AACF,CAAC,CAAC;AAEF,eAAe1C,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}