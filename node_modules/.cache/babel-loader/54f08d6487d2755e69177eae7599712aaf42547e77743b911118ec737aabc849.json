{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"tenSach\"\n}, \"Tiêu đề:\", -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"tenTacGia\"\n}, \"Tên tác giả:\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"title\"\n}, \"Nhà xuất bản\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageHeader = _resolveComponent(\"PageHeader\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_form_item = _resolveComponent(\"a-form-item\");\n  const _component_Multiselect = _resolveComponent(\"Multiselect\");\n  const _component_a_col = _resolveComponent(\"a-col\");\n  const _component_a_row = _resolveComponent(\"a-row\");\n  const _component_a_form = _resolveComponent(\"a-form\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_PageHeader, {\n    title: _ctx.title,\n    items: _ctx.items\n  }, null, 8 /* PROPS */, [\"title\", \"items\"]), _createVNode(_component_a_row, null, {\n    default: _withCtx(() => [_createVNode(_component_a_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_card, {\n        title: \"Thêm mới sản phẩm\"\n      }, {\n        extra: _withCtx(() => [_createVNode(_component_a_button, {\n          type: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Quay lại\")]),\n          _: 1 /* STABLE */\n        })]),\n        default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_a_form, null, {\n          default: _withCtx(() => [_createVNode(_component_a_row, null, {\n            default: _withCtx(() => [_createVNode(_component_a_col, {\n              span: 24\n            }, {\n              default: _withCtx(() => [_createVNode(_component_a_form_item, null, {\n                default: _withCtx(() => [_hoisted_1, _createVNode(_component_a_input, {\n                  name: \"tenSach\",\n                  size: \"large\",\n                  id: \"tenSach\",\n                  value: $data.sanpham.tenSach,\n                  \"onUpdate:value\": _cache[0] || (_cache[0] = $event => $data.sanpham.tenSach = $event)\n                }, null, 8 /* PROPS */, [\"value\"])]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_a_form_item, null, {\n                default: _withCtx(() => [_hoisted_2, _createVNode(_component_a_input, {\n                  name: \"tenTacGia\",\n                  size: \"large\",\n                  id: \"tenTacGia\",\n                  value: $data.sanpham.tenTacGia,\n                  \"onUpdate:value\": _cache[1] || (_cache[1] = $event => $data.sanpham.tenTacGia = $event)\n                }, null, 8 /* PROPS */, [\"value\"])]),\n                _: 1 /* STABLE */\n              }), _createElementVNode(\"div\", null, [_hoisted_3, _createVNode(_component_Multiselect, {\n                class: _normalizeClass([\"form-control\", {\n                  'is-invalid': _ctx.submitted && _ctx.v$.sanpham.chuyenMuc.$error\n                }]),\n                modelValue: _ctx.post.chuyenMuc,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.post.chuyenMuc = $event),\n                value: \"0\",\n                \"close-on-select\": true,\n                searchable: true,\n                \"create-option\": true,\n                options: _ctx.lstChuyenMuc\n              }, null, 8 /* PROPS */, [\"class\", \"modelValue\", \"options\"])])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","for","class","_createVNode","_component_PageHeader","title","_ctx","items","_component_a_row","_component_a_col","span","_component_a_card","extra","_withCtx","_component_a_button","type","_component_a_form","_component_a_form_item","_hoisted_1","_component_a_input","name","size","id","value","$data","sanpham","tenSach","$event","_hoisted_2","tenTacGia","_hoisted_3","_component_Multiselect","_normalizeClass","submitted","v$","chuyenMuc","$error","post","searchable","options","lstChuyenMuc"],"sources":["D:\\DA\\DoAnClient\\client\\src\\views\\dashboard\\QL_SanPham\\AddAndEditSanPham.vue"],"sourcesContent":["<template>\r\n  <PageHeader :title=\"title\" :items=\"items\" />\r\n  <a-row>\r\n    <a-col :span=\"24\">\r\n      <a-card title=\"Thêm mới sản phẩm\">\r\n        <template #extra>\r\n          <a-button  type=\"primary\">Quay lại</a-button>\r\n        </template>\r\n        <div>\r\n          <a-form>\r\n            <a-row>\r\n              <a-col :span=\"24\">\r\n                  <a-form-item >\r\n                    <label for=\"tenSach\">Tiêu đề:</label>\r\n                    <a-input name=\"tenSach\" size=\"large\" id=\"tenSach\" v-model:value=\"sanpham.tenSach\" />\r\n                  </a-form-item>\r\n                  <a-form-item >\r\n                    <label for=\"tenTacGia\">Tên tác giả:</label>\r\n                    <a-input name=\"tenTacGia\" size=\"large\" id=\"tenTacGia\" v-model:value=\"sanpham.tenTacGia\" />\r\n                  </a-form-item>\r\n                  <div>\r\n                    <label class=\"form-label\" for=\"title\">Nhà xuất bản</label>\r\n                    <Multiselect class=\"form-control\"\r\n                    :class=\"{\r\n                        'is-invalid': submitted && v$.sanpham.chuyenMuc.$error,\r\n                      }\"\r\n                    v-model=\"post.chuyenMuc\" value=\"0\" :close-on-select=\"true\" :searchable=\"true\"\r\n                      :create-option=\"true\" :options=\"lstChuyenMuc\" />\r\n                  \r\n                  </div>\r\n              </a-col>\r\n            </a-row>\r\n          </a-form>\r\n        </div>\r\n      </a-card>\r\n    </a-col>\r\n  </a-row>\r\n</template>\r\n\r\n<script>\r\nimport appConfig from \"../../../../app.config\";\r\nimport APIService from \"@/helpers/ApiService\";\r\nimport PageHeader from \"@/components/page-header\";\r\nexport default {\r\n  components:{\r\n    PageHeader\r\n  },\r\n  data(){\r\n    return{\r\n      page: {\r\n        title: \"Thêm mới sản phẩm\",\r\n        meta: [\r\n          {\r\n            name: \"Thêm mới sản phẩm\",\r\n            content: appConfig.description,\r\n          },\r\n        ],\r\n      },\r\n      datetimeConfig: {\r\n        //enableTime: false,\r\n        dateFormat: \"d/m/Y\",\r\n        //time_24hr: true,\r\n      },\r\n      sanpham:{\r\n        tenSach: '',\r\n        tenTacGia: '',\r\n        idNhaXuatBan: '',\r\n        namXuatBan: '',\r\n        idDanhMuc: '',\r\n        giaTien: '',\r\n        soLuongTon: '',\r\n        moTaSach: '',\r\n        idNhomDoTuoi: '',\r\n        noiBat: '',\r\n        giamGia: '',\r\n      },\r\n      lstNXB: [],\r\n      rules:{\r\n       TieuDe:[\r\n        {\r\n          required: true,\r\n          message: 'Please input Activity name',\r\n          trigger: 'change',\r\n        }\r\n       ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    async onSubmit() {\r\n      try{\r\n        await APIService.post(\"SanPham/Create\", this.post);\r\n        toast.success(\"Thêm bài viết thành công\", {\r\n        theme: \"colored\",\r\n        autoClose: 2000,\r\n      });\r\n      }catch(e){\r\n        this.submitted = false;\r\n        this.isLoading = false;\r\n        if (e.response && e.response.status === 400 && e.response.data.errors) {\r\n          const { errors } = e.response.data;\r\n          // Xử lý lỗi cụ thể\r\n          if (errors.noiBat) {\r\n            toast.error(errors.noiBat[0], {\r\n              theme: \"colored\",\r\n              autoClose: 2000,\r\n            });\r\n          }\r\n          if (errors.tintuc) {\r\n            toast.error(errors.tintuc[0], {\r\n              theme: \"colored\",\r\n              autoClose: 2000,\r\n            });\r\n          }\r\n        } else {\r\n          console.error('Lỗi không xác định:', e);\r\n          toast.error(\"Có lỗi xảy ra. Vui lòng thử lại sau.\", {\r\n            theme: \"colored\",\r\n            autoClose: 2000,\r\n          });\r\n        }\r\n      }\r\n      \r\n    }\r\n  }\r\n  \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":";gCAaoBA,mBAAA,CAAqC;EAA9BC,GAAG,EAAC;AAAS,GAAC,UAAQ;gCAI7BD,mBAAA,CAA2C;EAApCC,GAAG,EAAC;AAAW,GAAC,cAAY;gCAInCD,mBAAA,CAA0D;EAAnDE,KAAK,EAAC,YAAY;EAACD,GAAG,EAAC;GAAQ,cAAY;;;;;;;;;;;6DApBpEE,YAAA,CAA4CC,qBAAA;IAA/BC,KAAK,EAAEC,IAAA,CAAAD,KAAK;IAAGE,KAAK,EAAED,IAAA,CAAAC;+CACnCJ,YAAA,CAkCQK,gBAAA;sBAjCN,MAgCQ,CAhCRL,YAAA,CAgCQM,gBAAA;MAhCAC,IAAI,EAAE;IAAE;wBACd,MA8BS,CA9BTP,YAAA,CA8BSQ,iBAAA;QA9BDN,KAAK,EAAC;MAAmB;QACpBO,KAAK,EAAAC,QAAA,CACd,MAA6C,CAA7CV,YAAA,CAA6CW,mBAAA;UAAlCC,IAAI,EAAC;QAAS;4BAAC,MAAQ,C,iBAAR,UAAQ,E;;;0BAEpC,MAyBM,CAzBNf,mBAAA,CAyBM,cAxBJG,YAAA,CAuBSa,iBAAA;4BAtBP,MAqBQ,CArBRb,YAAA,CAqBQK,gBAAA;8BApBN,MAmBQ,CAnBRL,YAAA,CAmBQM,gBAAA;cAnBAC,IAAI,EAAE;YAAE;gCACZ,MAGc,CAHdP,YAAA,CAGcc,sBAAA;kCAFZ,MAAqC,CAArCC,UAAqC,EACrCf,YAAA,CAAoFgB,kBAAA;kBAA3EC,IAAI,EAAC,SAAS;kBAACC,IAAI,EAAC,OAAO;kBAACC,EAAE,EAAC,SAAS;kBAASC,KAAK,EAAEC,KAAA,CAAAC,OAAO,CAACC,OAAO;wEAAfF,KAAA,CAAAC,OAAO,CAACC,OAAO,GAAAC,MAAA;;;kBAElFxB,YAAA,CAGcc,sBAAA;kCAFZ,MAA2C,CAA3CW,UAA2C,EAC3CzB,YAAA,CAA0FgB,kBAAA;kBAAjFC,IAAI,EAAC,WAAW;kBAACC,IAAI,EAAC,OAAO;kBAACC,EAAE,EAAC,WAAW;kBAASC,KAAK,EAAEC,KAAA,CAAAC,OAAO,CAACI,SAAS;wEAAjBL,KAAA,CAAAC,OAAO,CAACI,SAAS,GAAAF,MAAA;;;kBAExF3B,mBAAA,CASM,cARJ8B,UAA0D,EAC1D3B,YAAA,CAKkD4B,sBAAA;gBALrC7B,KAAK,EAAA8B,eAAA,EAAC,cAAc;gCACgB1B,IAAA,CAAA2B,SAAS,IAAI3B,IAAA,CAAA4B,EAAE,CAACT,OAAO,CAACU,SAAS,CAACC;;4BAG1E9B,IAAA,CAAA+B,IAAI,CAACF,SAAS;2EAAd7B,IAAA,CAAA+B,IAAI,CAACF,SAAS,GAAAR,MAAA;gBAAEJ,KAAK,EAAC,GAAG;gBAAE,iBAAe,EAAE,IAAI;gBAAGe,UAAU,EAAE,IAAI;gBACzE,eAAa,EAAE,IAAI;gBAAGC,OAAO,EAAEjC,IAAA,CAAAkC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}