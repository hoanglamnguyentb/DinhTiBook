{"ast":null,"code":"import APIService from \"@/helpers/ApiService\";\nexport default {\n  data() {\n    return {\n      open: false,\n      labelCol: {\n        style: {\n          width: '150px'\n        }\n      },\n      wrapperCol: {\n        span: 14\n      },\n      id: undefined,\n      thaoTac: {\n        icon: '',\n        chucNangId: this.$route.params.chucNangId\n      },\n      rules: {\n        tenThaoTac: [{\n          required: true,\n          message: 'Tên thao tác là bắt buộc',\n          trigger: 'change'\n        }, {\n          min: 3,\n          max: 20,\n          message: 'Độ dài từ 3-20',\n          trigger: 'blur'\n        }],\n        maThaoTac: [{\n          required: true,\n          message: 'Mã thao tác là bắt buộc',\n          trigger: 'change'\n        }, {\n          min: 3,\n          max: 20,\n          message: 'Độ dài từ 3-20',\n          trigger: 'blur'\n        }],\n        duongDan: [{\n          required: true,\n          message: 'Đường dẫn là bắt buộc',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    async showModal(record) {\n      this.open = true;\n      if (record) {\n        this.thaoTac = {\n          ...record\n        };\n        this.id = this.thaoTac.id;\n      }\n    },\n    closeModal() {\n      this.resetForm();\n      this.id = undefined;\n      this.thaoTac = {\n        icon: '',\n        chucNangId: this.$route.params.chucNangId\n      };\n    },\n    handleOk() {\n      this.$refs.formRef.validate().then(async () => {\n        this.open = false;\n        if (this.id) {\n          console.log(this.thaoTac);\n          await APIService.put(`/ThaoTac/${this.id}`, this.thaoTac);\n          this.$message.success('Cập nhật thành công');\n        } else {\n          await APIService.post(\"/ThaoTac\", this.thaoTac);\n          this.$message.success('Thêm thao tác thành công');\n        }\n        this.closeModal();\n        this.$emit('addSuccess');\n      }).catch(error => {\n        console.log('error', error);\n      });\n    },\n    resetForm() {\n      this.$refs.formRef.resetFields();\n    }\n  }\n};","map":{"version":3,"names":["APIService","data","open","labelCol","style","width","wrapperCol","span","id","undefined","thaoTac","icon","chucNangId","$route","params","rules","tenThaoTac","required","message","trigger","min","max","maThaoTac","duongDan","methods","showModal","record","closeModal","resetForm","handleOk","$refs","formRef","validate","then","console","log","put","$message","success","post","$emit","catch","error","resetFields"],"sources":["D:\\DA\\DoAnFrontEnd\\DoAnClient\\client\\src\\views\\dashboard\\QL_ChucNang\\ModalAddEditThaoTac.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"id ? 'Cập nhật thao tác': 'Thêm thao tác'\" @ok=\"handleOk\" @cancel=\"closeModal\">\r\n      <a-form \r\n        ref=\"formRef\" \r\n        :model=\"thaoTac\" \r\n        :rules=\"rules\" \r\n        :label-col=\"labelCol\" \r\n        :wrapper-col=\"wrapperCol\"\r\n        >\r\n        <a-form-item ref=\"tenThaoTac\" label=\"Tên thao tác\" name=\"tenThaoTac\">\r\n          <a-input v-model:value=\"thaoTac.tenThaoTac\" />\r\n        </a-form-item>\r\n        <a-form-item ref=\"maThaoTac\" label=\"Mã thao tác\" name=\"maThaoTac\">\r\n          <a-input v-model:value=\"thaoTac.maThaoTac\" />\r\n        </a-form-item>\r\n        <a-form-item ref=\"duongDan\" label=\"Đường dẫn\" name=\"duongDan\">\r\n          <a-input v-model:value=\"thaoTac.duongDan\" />\r\n        </a-form-item>\r\n        <a-form-item ref=\"thuTu\" label=\"Thứ tự\" name=\"thuTu\">\r\n          <a-input-number style=\"width: 100%;\" v-model:value=\"thaoTac.thuTu\" />\r\n        </a-form-item>\r\n        <a-form-item ref=\"trangThai\" label=\"Trạng thái\" name=\"trangThai\">\r\n          <a-radio-group v-model:value=\"thaoTac.trangThai\">\r\n            <a-radio value=\"HIENTHI\">Hiển thị</a-radio>\r\n            <a-radio value=\"KHONGHIENTHI\">Không hiển thị</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport APIService from \"@/helpers/ApiService\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      open: false,\r\n      labelCol : {\r\n        style: {\r\n          width: '150px',\r\n        },\r\n      },\r\n      wrapperCol : {\r\n        span: 14,\r\n      },\r\n      id: undefined,\r\n      thaoTac: {\r\n        icon: '',\r\n        chucNangId: this.$route.params.chucNangId\r\n      },\r\n      rules: {\r\n        tenThaoTac: [\r\n          {\r\n            required: true,\r\n            message: 'Tên thao tác là bắt buộc',\r\n            trigger: 'change',\r\n          },\r\n          {\r\n            min: 3,\r\n            max: 20,\r\n            message: 'Độ dài từ 3-20',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        maThaoTac: [\r\n          {\r\n            required: true,\r\n            message: 'Mã thao tác là bắt buộc',\r\n            trigger: 'change',\r\n          },\r\n          {\r\n            min: 3,\r\n            max: 20,\r\n            message: 'Độ dài từ 3-20',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        duongDan: [\r\n          {\r\n            required: true,\r\n            message: 'Đường dẫn là bắt buộc',\r\n            trigger: 'change',\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async showModal(record) {\r\n      this.open = true\r\n      if(record) {\r\n        this.thaoTac = {...record}\r\n        this.id = this.thaoTac.id\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.resetForm()\r\n      this.id = undefined\r\n      this.thaoTac= {\r\n        icon: '',\r\n        chucNangId: this.$route.params.chucNangId\r\n      }\r\n    },\r\n    handleOk() {\r\n      this.$refs.formRef.validate().then(async () => {\r\n        this.open = false\r\n        if (this.id) {\r\n          console.log(this.thaoTac)\r\n          await APIService.put(`/ThaoTac/${this.id}`,this.thaoTac) \r\n          this.$message.success('Cập nhật thành công')\r\n        }\r\n        else {\r\n           await APIService.post(\"/ThaoTac\",this.thaoTac)\r\n           this.$message.success('Thêm thao tác thành công')\r\n        }\r\n        this.closeModal()\r\n        this.$emit('addSuccess')\r\n      }).catch(error => {\r\n        console.log('error', error);\r\n      });\r\n    },\r\n    resetForm() {\r\n      this.$refs.formRef.resetFields();\r\n    },\r\n  }\r\n}\r\n\r\n</script>"],"mappings":"AAiCA,OAAOA,UAAS,MAAO,sBAAqB;AAE5C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,KAAK;MACXC,QAAO,EAAI;QACTC,KAAK,EAAE;UACLC,KAAK,EAAE;QACT;MACF,CAAC;MACDC,UAAS,EAAI;QACXC,IAAI,EAAE;MACR,CAAC;MACDC,EAAE,EAAEC,SAAS;MACbC,OAAO,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,UAAU,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF;MACjC,CAAC;MACDG,KAAK,EAAE;QACLC,UAAU,EAAE,CACV;UACEC,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,0BAA0B;UACnCC,OAAO,EAAE;QACX,CAAC,EACD;UACEC,GAAG,EAAE,CAAC;UACNC,GAAG,EAAE,EAAE;UACPH,OAAO,EAAE,gBAAgB;UACzBC,OAAO,EAAE;QACX,CAAC,CACF;QACDG,SAAS,EAAE,CACT;UACEL,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,yBAAyB;UAClCC,OAAO,EAAE;QACX,CAAC,EACD;UACEC,GAAG,EAAE,CAAC;UACNC,GAAG,EAAE,EAAE;UACPH,OAAO,EAAE,gBAAgB;UACzBC,OAAO,EAAE;QACX,CAAC,CACF;QACDI,QAAQ,EAAE,CACR;UACEN,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,uBAAuB;UAChCC,OAAO,EAAE;QACX,CAAC;MAEL;IACF,CAAC;EACH,CAAC;EACDK,OAAO,EAAE;IACP,MAAMC,SAASA,CAACC,MAAM,EAAE;MACtB,IAAI,CAACxB,IAAG,GAAI,IAAG;MACf,IAAGwB,MAAM,EAAE;QACT,IAAI,CAAChB,OAAM,GAAI;UAAC,GAAGgB;QAAM;QACzB,IAAI,CAAClB,EAAC,GAAI,IAAI,CAACE,OAAO,CAACF,EAAC;MAC1B;IACF,CAAC;IACDmB,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,SAAS,CAAC;MACf,IAAI,CAACpB,EAAC,GAAIC,SAAQ;MAClB,IAAI,CAACC,OAAO,GAAE;QACZC,IAAI,EAAE,EAAE;QACRC,UAAU,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF;MACjC;IACF,CAAC;IACDiB,QAAQA,CAAA,EAAG;MACT,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,YAAY;QAC7C,IAAI,CAAC/B,IAAG,GAAI,KAAI;QAChB,IAAI,IAAI,CAACM,EAAE,EAAE;UACX0B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACzB,OAAO;UACxB,MAAMV,UAAU,CAACoC,GAAG,CAAE,YAAW,IAAI,CAAC5B,EAAG,EAAC,EAAC,IAAI,CAACE,OAAO;UACvD,IAAI,CAAC2B,QAAQ,CAACC,OAAO,CAAC,qBAAqB;QAC7C,OACK;UACF,MAAMtC,UAAU,CAACuC,IAAI,CAAC,UAAU,EAAC,IAAI,CAAC7B,OAAO;UAC7C,IAAI,CAAC2B,QAAQ,CAACC,OAAO,CAAC,0BAA0B;QACnD;QACA,IAAI,CAACX,UAAU,CAAC;QAChB,IAAI,CAACa,KAAK,CAAC,YAAY;MACzB,CAAC,CAAC,CAACC,KAAK,CAACC,KAAI,IAAK;QAChBR,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEO,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ,CAAC;IACDd,SAASA,CAAA,EAAG;MACV,IAAI,CAACE,KAAK,CAACC,OAAO,CAACY,WAAW,CAAC,CAAC;IAClC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}