{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport appConfig from \"../../../../app.config\";\nimport APIService from \"@/helpers/ApiService\";\nimport PageHeader from \"@/components/page-header\";\nexport default {\n  components: {\n    PageHeader\n  },\n  data() {\n    return {\n      page: {\n        title: \"Thêm mới sản phẩm\",\n        meta: [{\n          name: \"Thêm mới sản phẩm\",\n          content: appConfig.description\n        }]\n      },\n      datetimeConfig: {\n        //enableTime: false,\n        dateFormat: \"d/m/Y\"\n        //time_24hr: true,\n      },\n      sanpham: {\n        tenSach: '',\n        tenTacGia: '',\n        idNhaXuatBan: '',\n        namXuatBan: '',\n        idDanhMuc: '',\n        giaTien: '',\n        soLuongTon: '',\n        moTaSach: '',\n        idNhomDoTuoi: '',\n        noiBat: '',\n        giamGia: ''\n      },\n      lstNXB: [],\n      nxb: [],\n      rules: {\n        TieuDe: [{\n          required: true,\n          message: 'Please input Activity name',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    async onSubmit() {\n      try {\n        await APIService.post(\"SanPham/Create\", this.post);\n        toast.success(\"Thêm bài viết thành công\", {\n          theme: \"colored\",\n          autoClose: 2000\n        });\n      } catch (e) {\n        this.submitted = false;\n        this.isLoading = false;\n        if (e.response && e.response.status === 400 && e.response.data.errors) {\n          const {\n            errors\n          } = e.response.data;\n          // Xử lý lỗi cụ thể\n          if (errors.noiBat) {\n            toast.error(errors.noiBat[0], {\n              theme: \"colored\",\n              autoClose: 2000\n            });\n          }\n          if (errors.tintuc) {\n            toast.error(errors.tintuc[0], {\n              theme: \"colored\",\n              autoClose: 2000\n            });\n          }\n        } else {\n          console.error('Lỗi không xác định:', e);\n          toast.error(\"Có lỗi xảy ra. Vui lòng thử lại sau.\", {\n            theme: \"colored\",\n            autoClose: 2000\n          });\n        }\n      }\n    },\n    async getNXB() {\n      var result = await APIService.get(`/NhaXuatBan/`);\n      this.nxb = result.data.data.items;\n      for (var i = 0; i < this.nxb.length; i++) {\n        var nxbItem = {\n          value: this.nxb[i].maNXB,\n          label: this.nxb[i].tenNXB\n        };\n        this.lstNXB.push(nxbItem);\n      }\n    }\n  },\n  created() {\n    this.getNXB();\n  }\n};","map":{"version":3,"names":["appConfig","APIService","PageHeader","components","data","page","title","meta","name","content","description","datetimeConfig","dateFormat","sanpham","tenSach","tenTacGia","idNhaXuatBan","namXuatBan","idDanhMuc","giaTien","soLuongTon","moTaSach","idNhomDoTuoi","noiBat","giamGia","lstNXB","nxb","rules","TieuDe","required","message","trigger","methods","onSubmit","post","toast","success","theme","autoClose","e","submitted","isLoading","response","status","errors","error","tintuc","console","getNXB","result","get","items","i","length","nxbItem","value","maNXB","label","tenNXB","push","created"],"sources":["D:\\DA\\DoAnClient\\client\\src\\views\\dashboard\\QL_SanPham\\AddAndEditSanPham.vue"],"sourcesContent":["<template>\r\n  <PageHeader :title=\"title\" :items=\"items\" />\r\n  <a-row>\r\n    <a-col :span=\"24\">\r\n      <a-card title=\"Thêm mới sản phẩm\">\r\n        <template #extra>\r\n          <a-button  type=\"primary\">Quay lại</a-button>\r\n        </template>\r\n        <div>\r\n          <a-form>\r\n            <a-row>\r\n              <a-col :span=\"24\">\r\n                  <a-form-item >\r\n                    <label for=\"tenSach\">Tiêu đề:</label>\r\n                    <a-input name=\"tenSach\" size=\"large\" id=\"tenSach\" v-model:value=\"sanpham.tenSach\" />\r\n                  </a-form-item>\r\n                  <a-form-item >\r\n                    <label for=\"tenTacGia\">Tên tác giả:</label>\r\n                    <a-input name=\"tenTacGia\" size=\"large\" id=\"tenTacGia\" v-model:value=\"sanpham.tenTacGia\" />\r\n                  </a-form-item>\r\n                  <!-- nxb -->\r\n                  <a-form-item>\r\n                  <label for=\"NXB\">Chuyên mục tin tức:</label>\r\n                    <a-select\r\n                      v-model:value=\"sanpham.idNhaXuatBan\"\r\n                      show-search\r\n                      placeholder=\"Select a person\"\r\n                      style=\"width: 100%\"\r\n                      :options=\"lstNXB\"\r\n                      :filter-option=\"filterOption\"\r\n                      size=\"large\"\r\n                    ></a-select>\r\n            \r\n                </a-form-item>\r\n              </a-col>\r\n            </a-row>\r\n          </a-form>\r\n        </div>\r\n      </a-card>\r\n    </a-col>\r\n  </a-row>\r\n</template>\r\n\r\n<script>\r\nimport appConfig from \"../../../../app.config\";\r\nimport APIService from \"@/helpers/ApiService\";\r\nimport PageHeader from \"@/components/page-header\";\r\nexport default {\r\n  components:{\r\n    PageHeader\r\n  },\r\n  data(){\r\n    return{\r\n      page: {\r\n        title: \"Thêm mới sản phẩm\",\r\n        meta: [\r\n          {\r\n            name: \"Thêm mới sản phẩm\",\r\n            content: appConfig.description,\r\n          },\r\n        ],\r\n      },\r\n      datetimeConfig: {\r\n        //enableTime: false,\r\n        dateFormat: \"d/m/Y\",\r\n        //time_24hr: true,\r\n      },\r\n      sanpham:{\r\n        tenSach: '',\r\n        tenTacGia: '',\r\n        idNhaXuatBan: '',\r\n        namXuatBan: '',\r\n        idDanhMuc: '',\r\n        giaTien: '',\r\n        soLuongTon: '',\r\n        moTaSach: '',\r\n        idNhomDoTuoi: '',\r\n        noiBat: '',\r\n        giamGia: '',\r\n      },\r\n      lstNXB: [],\r\n      nxb:[],\r\n      rules:{\r\n       TieuDe:[\r\n        {\r\n          required: true,\r\n          message: 'Please input Activity name',\r\n          trigger: 'change',\r\n        }\r\n       ]\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    async onSubmit() {\r\n      try{\r\n        await APIService.post(\"SanPham/Create\", this.post);\r\n        toast.success(\"Thêm bài viết thành công\", {\r\n        theme: \"colored\",\r\n        autoClose: 2000,\r\n      });\r\n      }catch(e){\r\n        this.submitted = false;\r\n        this.isLoading = false;\r\n        if (e.response && e.response.status === 400 && e.response.data.errors) {\r\n          const { errors } = e.response.data;\r\n          // Xử lý lỗi cụ thể\r\n          if (errors.noiBat) {\r\n            toast.error(errors.noiBat[0], {\r\n              theme: \"colored\",\r\n              autoClose: 2000,\r\n            });\r\n          }\r\n          if (errors.tintuc) {\r\n            toast.error(errors.tintuc[0], {\r\n              theme: \"colored\",\r\n              autoClose: 2000,\r\n            });\r\n          }\r\n        } else {\r\n          console.error('Lỗi không xác định:', e);\r\n          toast.error(\"Có lỗi xảy ra. Vui lòng thử lại sau.\", {\r\n            theme: \"colored\",\r\n            autoClose: 2000,\r\n          });\r\n        }\r\n      }\r\n      \r\n    },\r\n    async getNXB(){\r\n      var result = await APIService.get(`/NhaXuatBan/`);\r\n      this.nxb = result.data.data.items;\r\n        \r\n      for(var i=0; i<this.nxb.length; i++){\r\n        var nxbItem ={\r\n          value: this.nxb[i].maNXB,\r\n          label: this.nxb[i].tenNXB\r\n        };\r\n        this.lstNXB.push(nxbItem);\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    this.getNXB();\r\n  }\r\n  \r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}