{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-search-line search-icon\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-equalizer-fill me-2 align-bottom\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"list-inline hstack gap-2 mb-0\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-information-line fs-16\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-pencil-fill fs-16\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-delete-bin-5-fill fs-16\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = {\n  key: 0,\n  style: {\n    \"font-weight\": \"700\",\n    \"font-size\": \"18px\",\n    \"color\": \"green\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-check-line\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = {\n  key: 1\n};\nconst _hoisted_14 = {\n  key: 0,\n  style: {\n    \"font-weight\": \"700\",\n    \"font-size\": \"18px\",\n    \"color\": \"green\"\n  }\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-check-line\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_16 = [_hoisted_15];\nconst _hoisted_17 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageHeader = _resolveComponent(\"PageHeader\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_col = _resolveComponent(\"a-col\");\n  const _component_a_select_option = _resolveComponent(\"a-select-option\");\n  const _component_a_select = _resolveComponent(\"a-select\");\n  const _component_a_row = _resolveComponent(\"a-row\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_Pagination = _resolveComponent(\"Pagination\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_PageHeader, {\n    title: $data.title,\n    items: $data.items\n  }, null, 8 /* PROPS */, [\"title\", \"items\"]), _createVNode(_component_a_row, null, {\n    default: _withCtx(() => [_createVNode(_component_a_col, {\n      span: 24\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_card, {\n        title: \"Danh sách tin bài\"\n      }, {\n        extra: _withCtx(() => [_createVNode(_component_router_link, {\n          to: {\n            name: 'QL_Create'\n          }\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_button, {\n            style: {\n              \"margin-left\": \"10px\"\n            }\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Thêm mới\")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_button, {\n          style: {\n            \"margin-left\": \"10px\"\n          }\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Import Data\")]),\n          _: 1 /* STABLE */\n        })]),\n        default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_a_row, {\n          style: {\n            \"margin-bottom\": \"20px\"\n          },\n          gutter: 24\n        }, {\n          default: _withCtx(() => [_createVNode(_component_a_col, {\n            span: 12\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_input, {\n              value: $data.formSearch.titleFilter,\n              \"onUpdate:value\": _cache[0] || (_cache[0] = $event => $data.formSearch.titleFilter = $event),\n              onKeyup: _withKeys($options.SearchData, [\"enter\"]),\n              placeholder: \"Tiêu đề\"\n            }, {\n              prefix: _withCtx(() => [_hoisted_1]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"value\", \"onKeyup\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_select, {\n              ref: \"select\",\n              value: $data.formSearch.TrangThai,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = $event => $data.formSearch.TrangThai = $event),\n              style: {\n                \"width\": \"100%\"\n              },\n              placeholder: \"Trạng thái\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_a_select_option, {\n                value: \"BAN_NHAP\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Bản nháp\")]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_a_select_option, {\n                value: \"XUAT_BAN\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Xuất bản\")]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_a_select_option, {\n                value: \"GO_BO\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Gỡ bỏ\")]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_select, {\n              ref: \"select\",\n              value: $data.formSearch.DanhMuc,\n              \"onUpdate:value\": _cache[2] || (_cache[2] = $event => $data.formSearch.DanhMuc = $event),\n              style: {\n                \"width\": \"100%\"\n              },\n              placeholder: \"Thông báo\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_a_select_option, {\n                value: \"TIN_TUC\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Tin tức\")]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_a_select_option, {\n                value: \"THONG_BAO\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"Thông báo\")]),\n                _: 1 /* STABLE */\n              })]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"value\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_a_col, {\n            span: 4\n          }, {\n            default: _withCtx(() => [_createVNode(_component_a_button, {\n              type: \"primary\",\n              onClick: $options.SearchData\n            }, {\n              default: _withCtx(() => [_hoisted_2, _createTextVNode(\"Tìm kiếm\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createElementVNode(\"div\", null, [_createVNode(_component_a_table, {\n          columns: $data.tableColumns,\n          dataSource: $data.lstBaiViet,\n          pagination: false,\n          loading: _ctx.loading,\n          scroll: {\n            x: 1200\n          }\n        }, {\n          bodyCell: _withCtx(({\n            column,\n            record\n          }) => [column.key === 'hinhAnh1' ? (_openBlock(), _createElementBlock(\"img\", {\n            key: 0,\n            src: 'http://localhost:44301/api/FileAndFolder/' + record.hinhAnh,\n            alt: \"Hình ảnh\",\n            style: {\n              \"width\": \"50px\",\n              \"height\": \"auto\"\n            }\n          }, null, 8 /* PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true), column.key === 'action' ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_4, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n            to: {\n              name: 'QL_TinTuc_Detail',\n              params: {\n                id: record.id\n              }\n            }\n          }, {\n            default: _withCtx(() => [_hoisted_5]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n            to: {\n              name: 'QL_TinTuc_Edit',\n              params: {\n                id: record.id\n              }\n            }\n          }, {\n            default: _withCtx(() => [_hoisted_6]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n            href: \"#\",\n            class: \"text-danger d-inline-block remove-item-btn\",\n            onClick: $event => $options.deletedata(record)\n          }, [..._hoisted_9], 8 /* PROPS */, _hoisted_7)])])) : _createCommentVNode(\"v-if\", true), column.key === 'NgayTao' ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 2\n          }, [_createTextVNode(_toDisplayString($options.formatDate(record.createdDate)), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), column.key === 'NgayHienThi' ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 3\n          }, [_createTextVNode(_toDisplayString($options.formatDate(record.publicDate)), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), column.key === 'henGioDang' ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 4\n          }, [_createTextVNode(_toDisplayString($options.formatDate(record.henGioDang)), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), column.key === 'NoiBat' ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 5\n          }, [record.noiBat == true ? (_openBlock(), _createElementBlock(\"td\", _hoisted_10, [..._hoisted_12])) : _createCommentVNode(\"v-if\", true), record.noiBat == false ? (_openBlock(), _createElementBlock(\"td\", _hoisted_13)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), column.key === 'trangThaiDang' ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 6\n          }, [record.trangThaiDang == true ? (_openBlock(), _createElementBlock(\"td\", _hoisted_14, [..._hoisted_16])) : _createCommentVNode(\"v-if\", true), record.trangThaiDang == false ? (_openBlock(), _createElementBlock(\"td\", _hoisted_17)) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"columns\", \"dataSource\", \"loading\"]), _createVNode(_component_Pagination, {\n          total: $data.optionPage.totalCount,\n          current: $data.optionPage.pageIndex,\n          \"per-page\": $data.optionPage.pageSize,\n          pageRange: $data.optionPage.totalCount,\n          onPageChanged: $options.handlePageChange\n        }, null, 8 /* PROPS */, [\"total\", \"current\", \"per-page\", \"pageRange\", \"onPageChanged\"])])])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_hoisted_8","style","_hoisted_11","_hoisted_15","_createVNode","_component_PageHeader","title","$data","items","_component_a_row","_component_a_col","span","_component_a_card","extra","_withCtx","_component_router_link","to","name","_component_a_button","gutter","_component_a_input","value","formSearch","titleFilter","$event","onKeyup","_withKeys","$options","SearchData","placeholder","prefix","_hoisted_1","_component_a_select","ref","TrangThai","_component_a_select_option","DanhMuc","type","onClick","_hoisted_2","_component_a_table","columns","tableColumns","dataSource","lstBaiViet","pagination","loading","_ctx","scroll","x","bodyCell","column","record","key","_createElementBlock","src","hinhAnh","alt","_hoisted_4","params","id","_hoisted_5","_hoisted_6","href","deletedata","_Fragment","formatDate","createdDate","publicDate","henGioDang","noiBat","_hoisted_10","_hoisted_12","_hoisted_13","trangThaiDang","_hoisted_14","_hoisted_16","_hoisted_17","_component_Pagination","total","optionPage","totalCount","current","pageIndex","pageSize","pageRange","onPageChanged","handlePageChange"],"sources":["D:\\HINET_1\\BacKan\\client\\src\\views\\dashboard\\QL_TinTuc\\index.vue"],"sourcesContent":["<script>\r\nimport Multiselect from \"@vueform/multiselect\";\r\nimport \"@vueform/multiselect/themes/default.css\";\r\nimport flatPickr from \"vue-flatpickr-component\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\n\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport Lottie from \"@/components/widgets/lottie.vue\";\r\nimport animationData from \"@/components/Animation/msoeawqm.json\";\r\nimport animationData1 from \"@/components/Animation/gsqxdxog.json\";\r\nimport Pagination from \"../../../components/widgets/Pagination.vue\";\r\nimport APIService from \"@/helpers/ApiService\"\r\n\r\nimport { toast } from 'vue3-toastify';\r\nimport 'vue3-toastify/dist/index.css';\r\n\r\nimport Common from \"@/helpers/Common\"\r\n\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Quản lý tin tức\",\r\n    meta: [{\r\n      name: \"Quản lý tin tức\",\r\n      content: appConfig.description,\r\n    },],\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Quản lý tin tức\",\r\n      items: [{\r\n        text: \"Dashboard\",\r\n        href: \"/\",\r\n      },\r\n      {\r\n        text: \"Quản lý tin tức\",\r\n        active: true,\r\n      },\r\n      ],\r\n      date1: null,\r\n      date: null,\r\n      addCustomerModal: false,\r\n      editCustomerModal: false,\r\n      tableColumns: [\r\n        { title: \"Hình ảnh\",  dataIndex: \"hinhAnh\", width: 100,key:\"hinhAnh1\"  },\r\n        { title: \"Tiêu đề\", dataIndex: \"title\", width:200 },\r\n        { title: \"Chuyên mục\", dataIndex: \"chuyenMuc\", width:120 },\r\n        { title: \"Danh mục\", dataIndex: \"danhMuc\", width:120 },\r\n        { title: \"Trạng thái\", dataIndex: \"trangThai\", width:120  },\r\n        { title: \"Nổi bật\", dataIndex: \"noiBat\", key:\"NoiBat\", width:100},\r\n        { title: \"Ngày hiển thị\", dataIndex: \"publicDate\", align:'center' , key:\"NgayHienThi\", width:120},\r\n        { title: \"Ngày tạo\", dataIndex: \"createdDate\", key:\"NgayTao\" , width:120},\r\n        { title: \"Hẹn ngày đăng\", dataIndex: \"henGioDang\", key:\"henGioDang\" , width:120},\r\n        { title: \"Trạng thái đăng\", dataIndex: \"trangThaiDang\", key:\"trangThaiDang\" , width:120},\r\n        { title: \"Thao tác\", key: \"action\" },\r\n      ],\r\n      rangeDateconfig: {\r\n        wrap: true, // set wrap to true only when using 'input-group'\r\n        altFormat: \"M j, Y\",\r\n        altInput: true,\r\n        dateFormat: \"d M, Y\",\r\n        mode: \"range\",\r\n      },\r\n      config: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\",\r\n      },\r\n      searchQuery: null,\r\n      defaultOptions: {\r\n        animationData: animationData\r\n      },\r\n      defaultOptions2: {\r\n        animationData: animationData1\r\n      },\r\n      value: 'All',\r\n      value1: null,\r\n      pages: [],\r\n      lstBaiViet: [],\r\n      optionPage: {\r\n        pageIndex: 1,\r\n        pageSize: 20,\r\n        totalCount: 0\r\n      },\r\n      formSearch:{\r\n        titleFilter:'',\r\n        publicDateFilter:'',\r\n        isPublicFilter:''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getToken(){\r\n        return user = JSON.parse(localStorage.getItem(\"user\"));\r\n    },\r\n    deletedata(event) {\r\n      Swal.fire({\r\n        title: \"Đồng ý xóa dữ liệu\",\r\n        text: \"Sau khi xóa sẽ không thể khôi phục lại.\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        cancelButtonText: \"Hủy\",\r\n        cancelButtonColor: \"#f46a6a\",\r\n        confirmButtonColor: \"#34c38f\",\r\n        confirmButtonText: \"Đồng ý\",\r\n      }).then(async (result) => {\r\n        if (result.value) {\r\n          try {\r\n            //xóa trên database\r\n            await APIService.delete(\"/tintuc/delete/\" + event.id);\r\n            toast.success(\"Xóa bài viết thành công.\", {\r\n              \"theme\": \"colored\",\r\n              autoClose: 2000\r\n            });\r\n\r\n            //xóa trong list item. không phải call lại API\r\n            this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n          } catch (e) {\r\n            if (e.status == 401) {\r\n              toast.error(\"Bạn không có quyền truy cập.\", {\r\n                \"theme\": \"colored\",\r\n                autoClose: 2000\r\n              });\r\n            } else {\r\n              if (e.data && e.data.Message) {\r\n                this.errMessage = e.data.Message;\r\n                toast.error(e.data.Message, {\r\n                  \"theme\": \"colored\",\r\n                  autoClose: 2000\r\n                });\r\n              } else {\r\n                toast.error(\"Xóa bài viết thất bại. Vui lòng thử lại sau.\", {\r\n                  \"theme\": \"colored\",\r\n                  autoClose: 2000\r\n                });\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n      });\r\n    },\r\n    deleteMultiple() {\r\n      let ids_array = [];\r\n      var items = document.getElementsByName(\"chk_child\");\r\n      items.forEach(function (ele) {\r\n        if (ele.checked == true) {\r\n          var trNode = ele.parentNode.parentNode.parentNode;\r\n          var id = trNode.querySelector(\".id a\").innerHTML;\r\n          ids_array.push(id);\r\n        }\r\n      });\r\n      if (typeof ids_array !== \"undefined\" && ids_array.length > 0) {\r\n        if (confirm(\"Are you sure you want to delete this?\")) {\r\n          var cusList = this.lstBaiViet;\r\n          ids_array.forEach(function (id) {\r\n            cusList = cusList.filter(function (customer) {\r\n              return customer.customerId != id;\r\n            });\r\n          });\r\n          this.lstBaiViet = cusList;\r\n          document.getElementById(\"checkAll\").checked = false;\r\n          var itemss = document.getElementsByName(\"chk_child\");\r\n          itemss.forEach(function (ele) {\r\n            if (ele.checked == true) {\r\n              ele.checked = false;\r\n              ele.closest(\"tr\").classList.remove(\"table-active\");\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Please select at least one checkbox\",\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    SearchData() {\r\n      // this.value = this.value1;\r\n      var searchParam = {\r\n        pageIndex: this.optionPage.pageIndex,\r\n        pageSize: this.optionPage.pageSize,\r\n        titleFilter:this.formSearch.titleFilter,\r\n        publicDateFilter:this.formSearch.publicDateFilter,\r\n        isPublicFilter: this.formSearch.isPublicFilter\r\n      }\r\n      \r\n      this.loadData(1,10,searchParam)\r\n\r\n    },\r\n    handlePageChange(page) {\r\n      this.optionPage.pageIndex = page;\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize)\r\n    },\r\n    async loadData(pageIndex, pageSize,params) {\r\n      var searchParam = {\r\n        pageIndex: pageIndex,\r\n        pageSize: pageSize\r\n      }\r\n      if(params){\r\n        searchParam=params;\r\n      }\r\n\r\n      var urlQuery = new URLSearchParams(searchParam).toString();\r\n      var result = await APIService.get(\"/TinTuc/GetDataByPage?\"+urlQuery);\r\n      this.lstBaiViet = result.data.data.items;\r\n      if(result.data.data != null && result.data.data.items != null){\r\n        var res = result.data.data;\r\n        this.lstBaiViet = result.data.data.items;\r\n        this.optionPage.pageIndex = res.pageIndex;\r\n        this.optionPage.pageSize = res.pageSize;\r\n        this.optionPage.totalCount = res.totalCount;\r\n      }\r\n    },\r\n    formatDate: Common.formatDate\r\n  },\r\n  created(){\r\n  },\r\n  mounted() {\r\n    var checkAll = document.getElementById(\"checkAll\");\r\n    if (checkAll) {\r\n      checkAll.onclick = function () {\r\n        var checkboxes = document.querySelectorAll(\r\n          '.form-check-all input[type=\"checkbox\"]'\r\n        );\r\n\r\n        if (checkAll.checked == true) {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = true;\r\n            checkbox.closest(\"tr\").classList.add(\"table-active\");\r\n            document.getElementById('remove-actions').style.display = 'block';\r\n          });\r\n        } else {\r\n          checkboxes.forEach(function (checkbox) {\r\n            checkbox.checked = false;\r\n            checkbox.closest(\"tr\").classList.remove(\"table-active\");\r\n            document.getElementById('remove-actions').style.display = 'none';\r\n          });\r\n        }\r\n      };\r\n    }\r\n\r\n    var checkboxes = document.querySelectorAll('#customerTable .form-check-input');\r\n    Array.from(checkboxes).forEach(function (element) {\r\n      element.addEventListener('change', function (event) {\r\n        var checkedCount = document.querySelectorAll('#customerTable .form-check-input:checked').length;\r\n\r\n        if (event.target.closest(\"tr\").classList.contains(\"table-active\")) {\r\n          (checkedCount > 0) ? document.getElementById(\"remove-actions\").style.display = 'block' : document.getElementById(\"remove-actions\").style.display = 'none';\r\n        } else {\r\n          (checkedCount > 0) ? document.getElementById(\"remove-actions\").style.display = 'block' : document.getElementById(\"remove-actions\").style.display = 'none';\r\n        }\r\n      });\r\n    });\r\n    this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n  },\r\n  components: {\r\n    PageHeader,\r\n    Multiselect,\r\n    flatPickr,\r\n    Pagination,\r\n    Lottie\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <PageHeader :title=\"title\" :items=\"items\" />\r\n \r\n  <a-row>\r\n    <a-col :span=\"24\">\r\n      <a-card title=\"Danh sách tin bài\">\r\n        <template #extra>\r\n          \r\n         <router-link :to=\"{ name: 'QL_Create'}\"> <a-button style=\"margin-left: 10px;\" >Thêm mới</a-button></router-link> \r\n          <a-button style=\"margin-left: 10px;\" >Import Data</a-button>\r\n        </template>\r\n        <div>\r\n          <a-row style=\"margin-bottom: 20px;\" :gutter=\"24\">\r\n            <a-col :span=\"12\">\r\n              <a-input v-model:value=\"formSearch.titleFilter\" @keyup.enter=\"SearchData\" placeholder=\"Tiêu đề\">\r\n                <template #prefix>\r\n                  <i class=\"ri-search-line search-icon\"></i>\r\n                </template>\r\n              </a-input>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n              <a-select\r\n                ref=\"select\"\r\n                v-model:value=\"formSearch.TrangThai\"\r\n                style=\"width: 100%\"\r\n                placeholder=\"Trạng thái\"\r\n              >\r\n                <a-select-option value=\"BAN_NHAP\">Bản nháp</a-select-option>\r\n                <a-select-option value=\"XUAT_BAN\">Xuất bản</a-select-option>\r\n                <a-select-option value=\"GO_BO\">Gỡ bỏ</a-select-option>\r\n              </a-select>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n              <a-select\r\n                ref=\"select\"\r\n                v-model:value=\"formSearch.DanhMuc\"\r\n                style=\"width: 100%\"\r\n                placeholder=\"Thông báo\"\r\n              >\r\n                <a-select-option value=\"TIN_TUC\">Tin tức</a-select-option>\r\n                <a-select-option value=\"THONG_BAO\">Thông báo</a-select-option>\r\n              </a-select>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n              <a-button type=\"primary\"  @click=\"SearchData\"><i class=\"ri-equalizer-fill me-2 align-bottom\"></i>Tìm kiếm</a-button>\r\n            </a-col>\r\n          </a-row>\r\n          <div>\r\n              <a-table\r\n              :columns=\"tableColumns\"\r\n              :dataSource=\"lstBaiViet\"\r\n              :pagination=\"false\"\r\n              :loading=\"loading\"\r\n              :scroll=\"{ x: 1200}\">\r\n                <template #bodyCell=\"{ column, record }\">\r\n                  <template v-if=\"column.key === 'hinhAnh1'\">\r\n                    <img :src=\"'http://localhost:44301/api/FileAndFolder/'+ record.hinhAnh\" alt=\"Hình ảnh\" style=\"width: 50px; height: auto;\">\r\n                  </template>\r\n                  <template v-if=\"column.key === 'action'\">\r\n                    <ul class=\"list-inline hstack gap-2 mb-0\">\r\n                      <li>\r\n                        <router-link :to=\"{ name: 'QL_TinTuc_Detail', params: { id: record.id } }\">\r\n                          <i class=\"ri-information-line fs-16\"></i>\r\n                        </router-link>\r\n                      </li>\r\n                      <li>\r\n                        <router-link :to=\"{ name: 'QL_TinTuc_Edit', params: { id: record.id } }\">\r\n                          <i class=\"ri-pencil-fill fs-16\"></i>\r\n                        </router-link>\r\n                      </li>\r\n                      <li>\r\n                        <a\r\n                          href=\"#\"\r\n                          class=\"text-danger d-inline-block remove-item-btn\"\r\n                          @click=\"deletedata(record)\"\r\n                        >\r\n                          <i class=\"ri-delete-bin-5-fill fs-16\"></i>\r\n                        </a>\r\n                       \r\n                      </li>\r\n                    </ul>\r\n                  </template>\r\n                  <template v-if=\"column.key === 'NgayTao'\">\r\n                    {{ formatDate(record.createdDate) }}\r\n                  </template>\r\n                  <template v-if=\"column.key === 'NgayHienThi'\">\r\n                    {{ formatDate(record.publicDate) }}\r\n                  </template>\r\n                  <template v-if=\"column.key === 'henGioDang'\">\r\n                    {{ formatDate(record.henGioDang) }}\r\n                  </template>\r\n                  <template v-if=\"column.key === 'NoiBat'\">\r\n                    <td style=\"font-weight: 700;font-size: 18px; color: green\" v-if=\"record.noiBat == true\">\r\n                        \r\n                        <i class=\"ri-check-line\"></i>\r\n                      </td>\r\n                      <td v-if=\"record.noiBat == false\"></td>\r\n                  </template>\r\n                  <template v-if=\"column.key === 'trangThaiDang'\">\r\n                    <td style=\"font-weight: 700;font-size: 18px; color: green\" v-if=\"record.trangThaiDang == true\">\r\n                        \r\n                        <i class=\"ri-check-line\"></i>\r\n                      </td>\r\n                      <td v-if=\"record.trangThaiDang == false\"></td>\r\n                  </template>\r\n                  \r\n                </template>\r\n              </a-table>\r\n              <Pagination :total=\"optionPage.totalCount\" :current=\"optionPage.pageIndex\" :per-page=\"optionPage.pageSize\"\r\n            :pageRange=\"optionPage.totalCount\" @page-changed=\"handlePageChange\" />\r\n            </div>     \r\n        </div>\r\n      </a-card>\r\n    </a-col>\r\n  </a-row>\r\n</template>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}