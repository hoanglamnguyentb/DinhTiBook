{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title mb-0\"\n}, \"Danh sách tỉnh\")], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"d-flex flex-wrap align-items-start gap-2\"\n};\nconst _hoisted_3 = {\n  class: \"add-btn me-1\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"ri-add-line align-bottom me-1\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PageHeader = _resolveComponent(\"PageHeader\");\n  const _component_b_col = _resolveComponent(\"b-col\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_b_row = _resolveComponent(\"b-row\");\n  const _component_b_card_header = _resolveComponent(\"b-card-header\");\n  const _component_s_table = _resolveComponent(\"s-table\");\n  const _component_Pagination = _resolveComponent(\"Pagination\");\n  const _component_b_card_body = _resolveComponent(\"b-card-body\");\n  const _component_b_card = _resolveComponent(\"b-card\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_PageHeader, {\n    title: $data.title,\n    items: $data.items\n  }, null, 8 /* PROPS */, [\"title\", \"items\"]), _createVNode(_component_b_row, null, {\n    default: _withCtx(() => [_createVNode(_component_b_col, {\n      lg: \"12\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_b_card, {\n        \"no-body\": \"\",\n        id: \"lstBaiViet\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_b_card_header, {\n          class: \"border-bottom-dashed\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_b_row, {\n            class: \"g-4 align-items-center\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_b_col, {\n              sm: \"\"\n            }, {\n              default: _withCtx(() => [_hoisted_1]),\n              _: 1 /* STABLE */\n            }), _createVNode(_component_b_col, {\n              sm: \"auto\"\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n                to: {\n                  name: 'QL_Tinh_Add'\n                },\n                class: \"btn btn-success\"\n              }, {\n                default: _withCtx(() => [_hoisted_4, _createTextVNode(\" Thêm mới \")]),\n                _: 1 /* STABLE */\n              })])])]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_b_card_body, null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", null, [_createVNode(_component_s_table, {\n            columns: $data.tableColumns,\n            dataSource: $data.lstBaiViet\n          }, null, 8 /* PROPS */, [\"columns\", \"dataSource\"]), $data.optionPage.totalCount > 20 ? (_openBlock(), _createBlock(_component_Pagination, {\n            key: 0,\n            total: $data.optionPage.totalCount,\n            current: $data.optionPage.pageIndex,\n            \"per-page\": $data.optionPage.pageSize,\n            pageRange: $data.optionPage.totalCount,\n            onPageChanged: $options.handlePageChange\n          }, null, 8 /* PROPS */, [\"total\", \"current\", \"per-page\", \"pageRange\", \"onPageChanged\"])) : _createCommentVNode(\"v-if\", true)])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_createVNode","_component_PageHeader","title","$data","items","_component_b_row","_component_b_col","lg","_component_b_card","id","_component_b_card_header","sm","_hoisted_1","_hoisted_2","_hoisted_3","_component_router_link","to","name","_hoisted_4","_component_b_card_body","_component_s_table","columns","tableColumns","dataSource","lstBaiViet","optionPage","totalCount","_createBlock","_component_Pagination","total","current","pageIndex","pageSize","pageRange","onPageChanged","$options","handlePageChange"],"sources":["D:\\DA\\DoAnClient\\client\\src\\views\\dashboard\\QL_Tinh\\index.vue"],"sourcesContent":["<template>\r\n  <PageHeader :title=\"title\" :items=\"items\" />\r\n  <b-row>\r\n    <b-col lg=\"12\">\r\n      <b-card no-body id=\"lstBaiViet\">\r\n        <b-card-header class=\"border-bottom-dashed\">\r\n          <b-row class=\"g-4 align-items-center\">\r\n            <b-col sm>\r\n              <div>\r\n                <h5 class=\"card-title mb-0\">Danh sách tỉnh</h5>\r\n              </div>\r\n            </b-col>\r\n            <b-col sm=\"auto\">\r\n              <div class=\"d-flex flex-wrap align-items-start gap-2\">\r\n\r\n                <div class=\"add-btn me-1\">\r\n                  <router-link :to=\"{ name: 'QL_Tinh_Add' }\" class=\"btn btn-success\">\r\n                    <i class=\"ri-add-line align-bottom me-1\"></i> Thêm mới\r\n                  </router-link>\r\n                </div>\r\n              </div>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card-header>\r\n        <b-card-body>\r\n        <div>\r\n          <s-table :columns=\"tableColumns\" :dataSource=\"lstBaiViet\">\r\n          </s-table>\r\n          <Pagination v-if=\"optionPage.totalCount > 20\" :total=\"optionPage.totalCount\" :current=\"optionPage.pageIndex\"\r\n            :per-page=\"optionPage.pageSize\" :pageRange=\"optionPage.totalCount\" @page-changed=\"handlePageChange\" />\r\n        </div>\r\n        </b-card-body>\r\n      </b-card>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n<script>\r\nimport \"@vueform/multiselect/themes/default.css\";\r\nimport \"flatpickr/dist/flatpickr.css\";\r\n\r\nimport PageHeader from \"@/components/page-header\";\r\nimport appConfig from \"../../../../app.config\";\r\nimport Swal from \"sweetalert2\";\r\nimport animationData from \"@/components/Animation/msoeawqm.json\";\r\nimport animationData1 from \"@/components/Animation/gsqxdxog.json\";\r\nimport Pagination from \"../../../components/widgets/Pagination.vue\";\r\nimport APIService from \"@/helpers/ApiService\"\r\n\r\nimport { toast } from 'vue3-toastify';\r\nimport 'vue3-toastify/dist/index.css';\r\n\r\nimport Common from \"@/helpers/Common\"\r\n\r\n\r\nexport default {\r\n  page: {\r\n    title: \"Quản lý tỉnh\",\r\n    meta: [{\r\n      name: \"Quản lý tỉnh\",\r\n      content: appConfig.description,\r\n    },],\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"Quản lý tỉnh\",\r\n      items: [{\r\n        text: \"Dashboard\",\r\n        href: \"/\",\r\n      },\r\n      {\r\n        text: \"Quản lý tỉnh\",\r\n        active: true,\r\n      },\r\n      ],\r\n      date1: null,\r\n      date: null,\r\n      addCustomerModal: false,\r\n      editCustomerModal: false,\r\n      tableColumns: [\r\n        { title: \"Mã tỉnh\", dataIndex: \"maTinh\" }, \r\n        { title: \"Tên tỉnh\", dataIndex: \"tenTinh\" },\r\n        { title: \"Loại\", dataIndex: \"loai\" },\r\n        { title: \"\", dataIndex: \"action\" },\r\n      ],\r\n      rangeDateconfig: {\r\n        wrap: true, // set wrap to true only when using 'input-group'\r\n        altFormat: \"M j, Y\",\r\n        altInput: true,\r\n        dateFormat: \"d M, Y\",\r\n        mode: \"range\",\r\n      },\r\n      config: {\r\n        enableTime: false,\r\n        dateFormat: \"d M, Y\",\r\n      },\r\n      searchQuery: null,\r\n      defaultOptions: {\r\n        animationData: animationData\r\n      },\r\n      defaultOptions2: {\r\n        animationData: animationData1\r\n      },\r\n      value: 'All',\r\n      value1: null,\r\n      pages: [],\r\n      lstBaiViet: [],\r\n      optionPage: {\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalCount: 0\r\n      },\r\n      formSearch: {\r\n        titleFilter: '',\r\n        publicDateFilter: '',\r\n        isPublicFilter: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    deletedata(event) {\r\n      Swal.fire({\r\n        title: \"Đồng ý xóa dữ liệu\",\r\n        text: \"Sau khi xóa sẽ không thể khôi phục lại.\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        cancelButtonText: \"Hủy\",\r\n        cancelButtonColor: \"#f46a6a\",\r\n        confirmButtonColor: \"#34c38f\",\r\n        confirmButtonText: \"Đồng ý\",\r\n      }).then(async (result) => {\r\n        if (result.value) {\r\n          try {\r\n            //xóa trên database\r\n            await APIService.delete(\"/tintuc/delete/\" + event.id);\r\n            toast.success(\"Xóa bài viết thành công.\", {\r\n              \"theme\": \"colored\",\r\n              autoClose: 2000\r\n            });\r\n\r\n            //xóa trong list item. không phải call lại API\r\n\r\n          } catch (e) {\r\n            if (e.status == 401) {\r\n              toast.error(\"Bạn không có quyền truy cập.\", {\r\n                \"theme\": \"colored\",\r\n                autoClose: 2000\r\n              });\r\n            } else {\r\n              if (e.data && e.data.Message) {\r\n                this.errMessage = e.data.Message;\r\n                toast.error(e.data.Message, {\r\n                  \"theme\": \"colored\",\r\n                  autoClose: 2000\r\n                });\r\n              } else {\r\n                toast.error(\"Xóa bài viết thất bại. Vui lòng thử lại sau.\", {\r\n                  \"theme\": \"colored\",\r\n                  autoClose: 2000\r\n                });\r\n              }\r\n            }\r\n          }\r\n\r\n        }\r\n      });\r\n    },\r\n    deleteMultiple() {\r\n      let ids_array = [];\r\n      var items = document.getElementsByName(\"chk_child\");\r\n      items.forEach(function (ele) {\r\n        if (ele.checked == true) {\r\n          var trNode = ele.parentNode.parentNode.parentNode;\r\n          var id = trNode.querySelector(\".id a\").innerHTML;\r\n          ids_array.push(id);\r\n        }\r\n      });\r\n      if (typeof ids_array !== \"undefined\" && ids_array.length > 0) {\r\n        if (confirm(\"Are you sure you want to delete this?\")) {\r\n          var cusList = this.lstBaiViet;\r\n          ids_array.forEach(function (id) {\r\n            cusList = cusList.filter(function (customer) {\r\n              return customer.customerId != id;\r\n            });\r\n          });\r\n          this.lstBaiViet = cusList;\r\n          document.getElementById(\"checkAll\").checked = false;\r\n          var itemss = document.getElementsByName(\"chk_child\");\r\n          itemss.forEach(function (ele) {\r\n            if (ele.checked == true) {\r\n              ele.checked = false;\r\n              ele.closest(\"tr\").classList.remove(\"table-active\");\r\n            }\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Please select at least one checkbox\",\r\n          confirmButtonClass: \"btn btn-info\",\r\n          buttonsStyling: false,\r\n          showCloseButton: true,\r\n        });\r\n      }\r\n    },\r\n    SearchData() {\r\n      // this.value = this.value1;\r\n      var searchParam = {\r\n        pageIndex: this.optionPage.pageIndex,\r\n        pageSize: this.optionPage.pageSize,\r\n        titleFilter: this.formSearch.titleFilter,\r\n        publicDateFilter: this.formSearch.publicDateFilter,\r\n        isPublicFilter: this.formSearch.isPublicFilter\r\n      }\r\n\r\n      this.loadData(1, 10, searchParam)\r\n\r\n    },\r\n    handlePageChange(page) {\r\n      this.optionPage.pageIndex = page;\r\n      this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize)\r\n    },\r\n    async loadData(pageIndex, pageSize, params) {\r\n      var searchParam = {\r\n        pageIndex: pageIndex,\r\n        pageSize: pageSize\r\n      }\r\n      if (params) {\r\n        searchParam = params;\r\n      }\r\n\r\n      var urlQuery = new URLSearchParams(searchParam).toString();\r\n      var result = await APIService.get(\"/tinh/get?\"+ urlQuery);\r\n      this.lstBaiViet = result.data.data.items;\r\n      if (result.data.data != null && result.data.data.items != null) {\r\n        var res = result.data.data;\r\n        this.lstBaiViet = result.data.data.items;\r\n        this.optionPage.pageIndex = res.pageIndex;\r\n        this.optionPage.pageSize = res.pageSize;\r\n        this.optionPage.totalCount = res.totalCount;\r\n      }\r\n    },\r\n    formatDate: Common.formatDate\r\n  },\r\n  created() {\r\n  },\r\n  mounted() {\r\n    this.loadData(this.optionPage.pageIndex, this.optionPage.pageSize);\r\n  },\r\n  components: {\r\n    PageHeader,\r\n    Pagination\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";gCAQcA,mBAAA,CAEM,c,aADJA,mBAAA,CAA+C;EAA3CC,KAAK,EAAC;AAAiB,GAAC,gBAAc,E;;EAIvCA,KAAK,EAAC;AAA0C;;EAE9CA,KAAK,EAAC;AAAc;gCAErBD,mBAAA,CAA6C;EAA1CC,KAAK,EAAC;AAA+B;;;;;;;;;;;6DAhB1DC,YAAA,CAA4CC,qBAAA;IAA/BC,KAAK,EAAEC,KAAA,CAAAD,KAAK;IAAGE,KAAK,EAAED,KAAA,CAAAC;+CACnCJ,YAAA,CAgCQK,gBAAA;sBA/BN,MA8BQ,CA9BRL,YAAA,CA8BQM,gBAAA;MA9BDC,EAAE,EAAC;IAAI;wBACZ,MA4BS,CA5BTP,YAAA,CA4BSQ,iBAAA;QA5BD,SAAO,EAAP,EAAO;QAACC,EAAE,EAAC;;0BACjB,MAkBgB,CAlBhBT,YAAA,CAkBgBU,wBAAA;UAlBDX,KAAK,EAAC;QAAsB;4BACzC,MAgBQ,CAhBRC,YAAA,CAgBQK,gBAAA;YAhBDN,KAAK,EAAC;UAAwB;8BACnC,MAIQ,CAJRC,YAAA,CAIQM,gBAAA;cAJDK,EAAE,EAAF;YAAE;gCACP,MAEM,CAFNC,UAEM,C;;gBAERZ,YAAA,CASQM,gBAAA;cATDK,EAAE,EAAC;YAAM;gCACd,MAOM,CAPNb,mBAAA,CAOM,OAPNe,UAOM,GALJf,mBAAA,CAIM,OAJNgB,UAIM,GAHJd,YAAA,CAEce,sBAAA;gBAFAC,EAAE,EAAE;kBAAAC,IAAA;gBAAA,CAAuB;gBAAElB,KAAK,EAAC;;kCAC/C,MAA6C,CAA7CmB,UAA6C,E,iBAAA,YAC/C,E;;;;;;;;YAMVlB,YAAA,CAOcmB,sBAAA;4BANd,MAKM,CALNrB,mBAAA,CAKM,cAJJE,YAAA,CACUoB,kBAAA;YADAC,OAAO,EAAElB,KAAA,CAAAmB,YAAY;YAAGC,UAAU,EAAEpB,KAAA,CAAAqB;8DAE5BrB,KAAA,CAAAsB,UAAU,CAACC,UAAU,S,cAAvCC,YAAA,CACwGC,qBAAA;;YADzDC,KAAK,EAAE1B,KAAA,CAAAsB,UAAU,CAACC,UAAU;YAAGI,OAAO,EAAE3B,KAAA,CAAAsB,UAAU,CAACM,SAAS;YACxG,UAAQ,EAAE5B,KAAA,CAAAsB,UAAU,CAACO,QAAQ;YAAGC,SAAS,EAAE9B,KAAA,CAAAsB,UAAU,CAACC,UAAU;YAAGQ,aAAY,EAAEC,QAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}