{"ast":null,"code":"// function getBase64(img, callback) {\n//   const reader = new FileReader();\n//   reader.addEventListener('load', () => callback(reader.result));\n//   reader.readAsDataURL(img);\n// }\nexport default {\n  data() {\n    return {\n      fileList: [],\n      loading: false,\n      imageUrl: ''\n    };\n  },\n  methods: {\n    handleChange(info) {\n      if (info.file.status === 'uploading') {\n        this.loading = true;\n        return;\n      }\n      if (info.file.status === 'done') {\n        // Get this url from response in real world.\n        this.getBase64(info.file.originFileObj, base64Url => {\n          this.imageUrl = base64Url;\n          this.loading = false;\n        });\n      }\n      if (info.file.status === 'error') {\n        this.loading = false;\n        this.$message.error('upload error');\n      }\n    },\n    beforeUpload(file) {\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n      if (!isJpgOrPng) {\n        message.error('You can only upload JPG file!');\n      }\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        message.error('Image must smaller than 2MB!');\n      }\n      return isJpgOrPng && isLt2M;\n    }\n  }\n};","map":{"version":3,"names":["data","fileList","loading","imageUrl","methods","handleChange","info","file","status","getBase64","originFileObj","base64Url","$message","error","beforeUpload","isJpgOrPng","type","message","isLt2M","size"],"sources":["D:\\DA\\DoAnClient\\client\\src\\components\\FileManager\\FileManager.vue"],"sourcesContent":["<template>\r\n  <a-upload\r\n    v-model:file-list=\"fileList\"\r\n    name=\"avatar\"\r\n    list-type=\"picture-card\"\r\n    class=\"avatar-uploader\"\r\n    :show-upload-list=\"false\"\r\n    action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n    :before-upload=\"beforeUpload\"\r\n    @change=\"handleChange\"\r\n  >\r\n    <img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"avatar\" />\r\n    <div v-else>\r\n      <loading-outlined v-if=\"loading\"></loading-outlined>\r\n      <plus-outlined v-else></plus-outlined>\r\n      <div class=\"ant-upload-text\">Upload</div>\r\n    </div>\r\n  </a-upload>\r\n</template>\r\n\r\n<script>\r\n// function getBase64(img, callback) {\r\n//   const reader = new FileReader();\r\n//   reader.addEventListener('load', () => callback(reader.result));\r\n//   reader.readAsDataURL(img);\r\n// }\r\nexport default {\r\n  data(){\r\n    return{\r\n      fileList : [],\r\n      loading :false,\r\n      imageUrl : '',\r\n    }\r\n  },\r\n  methods:{\r\n    handleChange(info){\r\n      if (info.file.status === 'uploading') {\r\n        this.loading = true;\r\n        return;\r\n      }\r\n      if (info.file.status === 'done') {\r\n        // Get this url from response in real world.\r\n        this.getBase64(info.file.originFileObj, base64Url => {\r\n          this.imageUrl = base64Url;\r\n          this.loading = false;\r\n        });\r\n      }\r\n      if (info.file.status === 'error') {\r\n        this.loading = false;\r\n        this.$message.error('upload error');\r\n      }\r\n    } ,\r\n    \r\n    beforeUpload(file){\r\n      const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n      if (!isJpgOrPng) {\r\n        message.error('You can only upload JPG file!');\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        message.error('Image must smaller than 2MB!');\r\n      }\r\n      return isJpgOrPng && isLt2M;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"AAqBA;AACA;AACA;AACA;AACA;AACA,eAAe;EACbA,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,QAAO,EAAI,EAAE;MACbC,OAAM,EAAG,KAAK;MACdC,QAAO,EAAI;IACb;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,YAAYA,CAACC,IAAI,EAAC;MAChB,IAAIA,IAAI,CAACC,IAAI,CAACC,MAAK,KAAM,WAAW,EAAE;QACpC,IAAI,CAACN,OAAM,GAAI,IAAI;QACnB;MACF;MACA,IAAII,IAAI,CAACC,IAAI,CAACC,MAAK,KAAM,MAAM,EAAE;QAC/B;QACA,IAAI,CAACC,SAAS,CAACH,IAAI,CAACC,IAAI,CAACG,aAAa,EAAEC,SAAQ,IAAK;UACnD,IAAI,CAACR,QAAO,GAAIQ,SAAS;UACzB,IAAI,CAACT,OAAM,GAAI,KAAK;QACtB,CAAC,CAAC;MACJ;MACA,IAAII,IAAI,CAACC,IAAI,CAACC,MAAK,KAAM,OAAO,EAAE;QAChC,IAAI,CAACN,OAAM,GAAI,KAAK;QACpB,IAAI,CAACU,QAAQ,CAACC,KAAK,CAAC,cAAc,CAAC;MACrC;IACF;IAEAC,YAAYA,CAACP,IAAI,EAAC;MAChB,MAAMQ,UAAS,GAAIR,IAAI,CAACS,IAAG,KAAM,YAAW,IAAKT,IAAI,CAACS,IAAG,KAAM,WAAW;MAC1E,IAAI,CAACD,UAAU,EAAE;QACfE,OAAO,CAACJ,KAAK,CAAC,+BAA+B,CAAC;MAChD;MACA,MAAMK,MAAK,GAAIX,IAAI,CAACY,IAAG,GAAI,IAAG,GAAI,IAAG,GAAI,CAAC;MAC1C,IAAI,CAACD,MAAM,EAAE;QACXD,OAAO,CAACJ,KAAK,CAAC,8BAA8B,CAAC;MAC/C;MACA,OAAOE,UAAS,IAAKG,MAAM;IAC7B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}