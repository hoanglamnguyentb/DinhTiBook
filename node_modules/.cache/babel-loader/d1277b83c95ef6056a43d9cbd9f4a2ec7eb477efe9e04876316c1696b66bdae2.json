{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createStore } from 'vuex';\nimport modules from './modules';\nconst store = createStore({\n  modules,\n  // Enable strict mode in development to get a warning\n  // when mutating state outside of a mutation.\n  // https://vuex.vuejs.org/guide/strict.html\n  strict: process.env.NODE_ENV !== 'production',\n  //giỏ hàng\n  state: {\n    cart: [],\n    cartTotal: 0\n  },\n  mutations: {\n    addRemoveCart(state, payload) {\n      payload.toAdd ? state.cart.push(payload.SanPham) : state.cart = state.cart.filter(function (object) {\n        return object.id !== payload.SanPham.id;\n      });\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n      console.log(state.cartTotal);\n      console.log(state.cart);\n    },\n    updateCart(state, payload) {\n      state.cart.find(o => o.id == payload.SanPham.id).quantity = payload.SanPham.quantity;\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    addCart(state, payload) {\n      if (payload.Add) {\n        state.cart.push(payload.SanPham);\n      }\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    updateCart1(state, payload) {\n      state.cart.find(o => o.id == payload.SanPham.id).quantity += payload.newQty;\n      state.cartTotal = state.cart.reduce((accumlator, object) => {\n        return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\n      }, 0);\n      localStorage.setItem('cartTotal', JSON.stringify(state.cartTotal));\n      localStorage.setItem('cart', JSON.stringify(state.cart));\n    },\n    clearCart(state) {\n      state.cart = [];\n      state.cartTotal = 0;\n    },\n    //tai lai gio hang\n    async initialiseStore(state) {\n      if (localStorage.getItem('cart')) {\n        state.cart = JSON.parse(localStorage.getItem('cart'));\n      }\n      if (localStorage.getItem('cartTotal')) {\n        state.cartTotal = parseFloat(localStorage.getItem('cartTotal'));\n      }\n      return true;\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","modules","store","strict","process","env","NODE_ENV","state","cart","cartTotal","mutations","addRemoveCart","payload","toAdd","push","SanPham","filter","object","id","reduce","accumlator","parseFloat","giaTien","quantity","localStorage","setItem","JSON","stringify","console","log","updateCart","find","o","addCart","Add","updateCart1","newQty","clearCart","initialiseStore","getItem","parse"],"sources":["D:/DA/DoAnFrontEnd/DoAnClient/client/src/state/store.js"],"sourcesContent":["import { createStore } from 'vuex'\r\n\r\nimport modules from './modules'\r\n\r\nconst store = createStore({\r\n  modules,\r\n  // Enable strict mode in development to get a warning\r\n  // when mutating state outside of a mutation.\r\n  // https://vuex.vuejs.org/guide/strict.html\r\n  strict: process.env.NODE_ENV !== 'production',\r\n\r\n\r\n//giỏ hàng\r\n  state:{\r\n    cart:[],\r\n    cartTotal:0\r\n  },\r\n  mutations:{\r\n    addRemoveCart(state, payload) {\r\n      payload.toAdd?\r\n      state.cart.push(payload.SanPham):\r\n      state.cart = state.cart.filter(function(object){\r\n          return object.id !==payload.SanPham.id\r\n      });\r\n      state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.giaTien*object.quantity);\r\n      },0);\r\n      localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n      localStorage.setItem('cart',JSON.stringify(state.cart));\r\n  \r\n      console.log(state.cartTotal)\r\n      console.log(state.cart)\r\n      },\r\n    updateCart(state,payload){\r\n      state.cart.find(o => o.id == payload.SanPham.id).quantity = payload.SanPham.quantity;\r\n      state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n        return parseFloat(accumlator) + parseFloat(object.giaTien*object.quantity);\r\n      },0);\r\n      localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n      localStorage.setItem('cart',JSON.stringify(state.cart));\r\n\r\n      },\r\n      addCart(state, payload){\r\n        if(payload.Add){\r\n          state.cart.push(payload.SanPham);\r\n        }\r\n        state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\r\n        },0);\r\n        localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n        localStorage.setItem('cart',JSON.stringify(state.cart));\r\n      },\r\n      updateCart1(state, payload){\r\n        state.cart.find(o => o.id == payload.SanPham.id).quantity += payload.newQty;\r\n          \r\n        state.cartTotal = state.cart.reduce((accumlator, object)=>{\r\n          return parseFloat(accumlator) + parseFloat(object.giaTien * object.quantity);\r\n        },0);\r\n        localStorage.setItem('cartTotal',JSON.stringify(state.cartTotal));\r\n        localStorage.setItem('cart',JSON.stringify(state.cart));\r\n      },\r\n      clearCart(state){\r\n        state.cart = [];\r\n        state.cartTotal = 0;\r\n    },\r\n    //tai lai gio hang\r\n    async initialiseStore(state) {\r\n      if(localStorage.getItem('cart')){\r\n       state.cart = JSON.parse(localStorage.getItem('cart'))\r\n      }\r\n      if(localStorage.getItem('cartTotal')){\r\n      state.cartTotal = parseFloat(localStorage.getItem('cartTotal')) \r\n      }\r\n      return true;\r\n },\r\n  }\r\n})\r\n\r\nexport default store\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}